(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.mirada=f()}})((function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,(function(r){var n=e[i][1][r];return o(n||r)}),p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var CameraHelper=function(){function CameraHelper(videoInput,outputCanvas,callback){this.videoInput=videoInput;this.outputCanvas=outputCanvas;this.callback=callback;this.streaming=false;this.onVideoCanPlay=this.onVideoCanPlay.bind(this);this.onVideoStarted=this.onVideoStarted.bind(this);this.onVideoStopped=this.onVideoStopped.bind(this)}CameraHelper.prototype.start=function(){if(!this.streaming){this.startCamera("qvga",this.onVideoStarted,this.videoInput)}};CameraHelper.prototype.stop=function(){if(this.streaming){this.stopCamera();this.onVideoStopped()}};CameraHelper.prototype.startCamera=function(resolution,callback,video){var _this=this;var constraints={qvga:{width:{exact:320},height:{exact:240}},vga:{width:{exact:640},height:{exact:480}}};var videoConstraint=constraints[resolution];if(!videoConstraint){videoConstraint=true}navigator.mediaDevices.getUserMedia({video:video,audio:false}).then((function(s){video.srcObject=s;video.play();_this.videoInput=video;_this.stream=s;_this.onCameraStartedCallback=callback;video.addEventListener("canplay",_this.onVideoCanPlay,false)})).catch((function(err){console.error(err)}))};CameraHelper.prototype.stopCamera=function(){if(this.videoInput){this.videoInput.pause();this.videoInput.srcObject=null;this.videoInput.removeEventListener("canplay",this.onVideoCanPlay)}if(this.stream){this.stream.getVideoTracks().forEach((function(t){return t.stop()}))}};CameraHelper.prototype.onVideoStarted=function(){this.streaming=true;this.outputCanvas.width=this.videoInput.videoWidth;this.outputCanvas.height=this.videoInput.videoHeight;this.callback()};CameraHelper.prototype.onVideoStopped=function(){this.streaming=false;this.outputCanvas.getContext("2d").clearRect(0,0,this.outputCanvas.width,this.outputCanvas.height);this.stopCamera()};CameraHelper.prototype.onVideoCanPlay=function(){if(this.onCameraStartedCallback){this.onCameraStartedCallback(this.stream,this.videoInput)}};return CameraHelper}();exports.CameraHelper=CameraHelper},{}],2:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var base64_1=require("../util/base64");var imageUtil_1=require("../util/imageUtil");var imageCreation_1=require("./imageCreation");var defaultABOptions={};function renderArrayBufferInCanvas(a,mime,options){if(options===void 0){options=defaultABOptions}options=__assign(__assign({},defaultABOptions),options);var url=base64_1.arrayBufferToUrl(a,mime,options.name);var img=new Image;return new Promise((function(resolve){img.onload=function(){if(!options.canvas){options.canvas=document.createElement("canvas");options.appendToBody&&document.body.append(options.canvas)}options.canvas.setAttribute("width",img.naturalWidth+"");options.canvas.setAttribute("height",img.naturalHeight+"");options.canvas.getContext("2d").drawImage(img,0,0);resolve({canvas:options.canvas,width:img.naturalWidth,height:img.naturalHeight})};img.onerror=function(e){console.log("ERROR",e)};img.src=url}))}exports.renderArrayBufferInCanvas=renderArrayBufferInCanvas;function renderSvgInCanvas(svg,options){if(options===void 0){options=defaultABOptions}return new Promise((function(resolve){var img=new Image;img.style.display="none";img.onerror=function(e){console.log("ERROR",e);resolve(undefined)};img.onload=function(e){if(!options.canvas){options.canvas=document.createElement("canvas");options.appendToBody&&document.body.append(options.canvas)}options.canvas.setAttribute("width",(img.width||500)+"");options.canvas.setAttribute("height",(img.height||500)+"");options.canvas.getContext("2d").drawImage(img,0,0);resolve({canvas:options.canvas,width:img.naturalWidth,height:img.naturalHeight});img.remove()};document.body.append(img);img.src=base64_1.dataToUrl(svg,"image/svg+xml",options.name||"image.svg")}))}exports.renderSvgInCanvas=renderSvgInCanvas;var defaultOptions={rgba:true,forceSameSize:true};function renderInCanvas(mat,options){options=__assign(__assign({},defaultOptions),options);if(!options.canvas){options.canvas=document.createElement("canvas");options.appendToBody&&!options.canvas.isConnected&&document.body.append(options.canvas)}var img=options.rgba?imageUtil_1.toRgba(mat):mat;var imgData=imageCreation_1.asHtmlImageData(img);var ctx=options.canvas.getContext("2d");if(options.clear){ctx.clearRect(0,0,options.canvas.width,options.canvas.height)}if(options.forceSameSize){options.canvas.width=imgData.width;options.canvas.height=imgData.height;ctx.putImageData(imgData,0,0,0,0,imgData.width,imgData.height)}else if(!options.region){ctx.putImageData(imgData,0,0)}else{ctx.putImageData(imgData,options.region.x,options.region.y,options.region.x,options.region.y,options.region.width,options.region.height)}options.rgba&&img.delete();return options.canvas}exports.renderInCanvas=renderInCanvas},{"../util/base64":58,"../util/imageUtil":61,"./imageCreation":3}],3:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};Object.defineProperty(exports,"__esModule",{value:true});var file_1=require("../file");var imageUtil_1=require("../util/imageUtil");function fromInputFileElement(a){return __awaiter(this,void 0,void 0,(function(){var files;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,file_1.File.fromHtmlFileInputElement(a)];case 1:files=_a.sent();return[2,files.map((function(f){return f.asMat()}))]}}))}))}exports.fromInputFileElement=fromInputFileElement;function fetchImageData(url){return new Promise((function(resolve,reject){var img=new Image;img.onload=function(e){var canvas=document.createElement("canvas");canvas.width=img.width;canvas.height=img.height;var ctx=canvas.getContext("2d");ctx.drawImage(img,0,0,img.width,img.height);var imgData=ctx.getImageData(0,0,canvas.width,canvas.height);resolve(imgData)};img.onerror=reject;img.src=url}))}exports.fetchImageData=fetchImageData;function asHtmlImageData(img){var imgData=imageUtil_1.toImageData(img);var htmlImageData=new ImageData(imgData.data,imgData.width,imgData.height);return htmlImageData}exports.asHtmlImageData=asHtmlImageData},{"../file":6,"../util/imageUtil":61}],4:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)if(Object.hasOwnProperty.call(mod,k))result[k]=mod[k];result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:true});var cameraHelper=__importStar(require("./cameraHelper"));var canvasRender=__importStar(require("./canvasRender"));var imageCreation=__importStar(require("./imageCreation"));var VideoReader=__importStar(require("./videoReader"));var cameraHelper_1=require("./cameraHelper");exports.CameraHelper=cameraHelper_1.CameraHelper;var canvasRender_1=require("./canvasRender");exports.renderArrayBufferInCanvas=canvasRender_1.renderArrayBufferInCanvas;exports.renderInCanvas=canvasRender_1.renderInCanvas;var imageCreation_1=require("./imageCreation");exports.getHtmlImageData=imageCreation_1.asHtmlImageData;exports.fetchImageData=imageCreation_1.fetchImageData;exports.fromInputFileElement=imageCreation_1.fromInputFileElement;var videoReader_1=require("./videoReader");exports.VideoReader=videoReader_1.VideoReader;exports.browser=__assign(__assign(__assign(__assign({},canvasRender),cameraHelper),imageCreation),VideoReader)},{"./cameraHelper":1,"./canvasRender":2,"./imageCreation":3,"./videoReader":5}],5:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var util_1=require("../util");var VideoReader=function(){function VideoReader(video,canvas,o){if(o===void 0){o=VideoReader.defaultOptions}this.video=video;this.canvas=canvas;this.o=o;this.mat=null;this.streaming=false;this.o=__assign(__assign({},VideoReader.defaultOptions),o);this.ctx=canvas.getContext("2d");this.size=this.getSize()}VideoReader.prototype.read=function(){this.o.noMatCheck||this.matCheck();this.ctx.drawImage(this.video,0,0,this.size.width,this.size.height);this.mat.data.set(this.ctx.getImageData(0,0,this.size.width,this.size.height).data)};VideoReader.prototype.canPlay=function(){var _this=this;var constraints={audio:false,video:true};return new Promise((function(resolve){_this.video.addEventListener("canplay",(function(){var size=_this.getSize();_this.canvas.width=size.width;_this.canvas.height=size.height;_this.mat=new cv.Mat(size.height,size.width,cv.CV_8UC4);_this.streaming=true;resolve()}),false);navigator.mediaDevices.getUserMedia(constraints).then((function(stream){_this.stream=_this.video.srcObject=stream}))}))};VideoReader.prototype.stop=function(){if(this.stream){this.stream.getVideoTracks().forEach((function(t){return t.stop()}));this.streaming=false;util_1.del(this.mat)}};VideoReader.prototype.getSize=function(){if(!this.size){this.size=this.o.size==="videoSize"?{width:this.video.videoWidth,height:this.video.videoHeight}:this.o.size==="video"?{width:this.video.width,height:this.video.height}:{width:this.canvas.width,height:this.canvas.height}}return this.size};VideoReader.prototype.matCheck=function(){if(!(this.mat instanceof cv.Mat)){throw new Error("Please input the valid cv.Mat instance.")}if(this.mat.type()!==cv.CV_8UC4){throw new Error("Bad type of input mat: the type should be cv.CV_8UC4.")}if(this.mat.cols!==this.size.width||this.mat.rows!==this.size.height){throw new Error("Bad size of input mat: the size should be same as the video.")}};VideoReader.defaultOptions={size:"canvas",constraints:{audio:false,video:true}};return VideoReader}();exports.VideoReader=VideoReader},{"../util":62}],6:[function(require,module,exports){(function(Buffer){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:true});var assert_1=require("assert");var cross_fetch_1=__importDefault(require("cross-fetch"));var misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");var imageCreation_1=require("./browser/imageCreation");var format_1=require("./format");var base64_1=require("./util/base64");var fileUtil_1=require("./util/fileUtil");var imageUtil_1=require("./util/imageUtil");var fileType=require("file-type");var File=function(){function File(name,_mat){this.name=name;this._mat=_mat}File.prototype.size=function(){return{width:this._mat.cols,height:this._mat.rows}};File.prototype.getMimeType=function(){return misc_utils_of_mine_generic_1.getMimeTypeForExtension(this.getExtension())};File.prototype.getExtension=function(){return misc_utils_of_mine_generic_1.getFileExtension(this.name).toLowerCase()};File.prototype.asMat=function(){return this._mat};File.prototype.asImageData=function(){return imageUtil_1.toImageData(this._mat)};File.prototype.asHTMLImageData=function(){return imageCreation_1.asHtmlImageData(this._mat)};File.prototype.asDataUrl=function(){return"data:"+this.getMimeType()+";"+this.name+";base64,"+this.asBase64()};Object.defineProperty(File.prototype,"width",{get:function(){return this._mat.cols},enumerable:true,configurable:true});Object.defineProperty(File.prototype,"height",{get:function(){return this._mat.rows},enumerable:true,configurable:true});Object.defineProperty(File.prototype,"mat",{get:function(){return this._mat},enumerable:true,configurable:true});File.prototype.remove=function(deleteMat){if(deleteMat===void 0){deleteMat=true}deleteMat&&this.delete();this.name&&fileUtil_1.isFile(this.name)&&fileUtil_1.removeFile(this.name);return this};File.prototype.asArrayBuffer=function(format){if(format===void 0){format=this.getExtension()}return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return[4,format_1.encodeOrThrow(this.asImageData(),format)];case 1:return[2,_a.sent()]}}))}))};File.prototype.write=function(path,format){if(path===void 0){path=this.name}if(format===void 0){format=this.getExtension()}return __awaiter(this,void 0,void 0,(function(){var a;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,this.asArrayBuffer(format)];case 1:a=_a.sent();fileUtil_1.writeFile(path,new Uint8ClampedArray(a));return[2,this]}}))}))};File.prototype.setMat=function(mat){this.delete();this._mat=mat;return this};File.prototype.show=function(el){cv.imshow(el,this.asMat());return this};File.prototype.asBase64=function(format){if(format===void 0){format=this.getExtension()}return __awaiter(this,void 0,void 0,(function(){var encoded;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,this.asArrayBuffer(format)];case 1:encoded=_a.sent();return[2,base64_1.arrayBufferToBase64(encoded)]}}))}))};File.prototype.delete=function(){try{this._mat&&this._mat.delete()}catch(error){}};File.prototype.toRgba=function(){var dst=imageUtil_1.toRgba(this.mat);this.mat.delete();this._mat=dst;return this};File.prototype.clone=function(name){if(name===void 0){name=this.name}return File.fromMat(this.mat.clone(),name)};File.fromBase64=function(base64,name){var buffer=Buffer.from(base64,"base64");return File.fromArrayBuffer(buffer,name||File.getBufferFileName(buffer))};File.fromArrayBuffer=function(buffer,name){return __awaiter(this,void 0,void 0,(function(){var format,data,error_1;return __generator(this,(function(_a){switch(_a.label){case 0:_a.trys.push([0,2,,3]);name=name||File.getBufferFileName(buffer);format=misc_utils_of_mine_generic_1.getFileExtension(name);return[4,format_1.decodeOrThrow(buffer,format)];case 1:data=_a.sent();return[2,File.fromData(data,name)];case 2:error_1=_a.sent();console.error(error_1);throw error_1;case 3:return[2]}}))}))};File.fromArrayBufferView=function(a,name){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,File.fromArrayBuffer(a.buffer,name)]}))}))};File.getBufferFileType=function(a){var t=File.fileType(a);if(!t){throw new Error("Could not get file type for buffer")}return t};File.fileType=function(a){var t=fileType(a);if(!t){var s=base64_1.arrayBufferToString(a);if(s.includes("<svg")){t={ext:"svg",mime:"image/svg+xml"}}}return t};File.getBufferFileName=function(a){var t=File.getBufferFileType(a);return misc_utils_of_mine_generic_1.unique("file")+t.ext};File.fromDataUrl=function(dataUrl,name){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return[4,File.fromBase64(base64_1.urlToBase64(dataUrl),name)];case 1:return[2,_a.sent()]}}))}))};File.fromHtmlFileInputElement=function(el){var _this=this;if(!misc_utils_of_mine_generic_1.inBrowser()){throw new Error("This method is only supported in the browser")}return Promise.all(Array.from(el.files).map((function(file){return new Promise((function(resolve,reject){var reader=new FileReader;reader.addEventListener("loadend",(function(e){return __awaiter(_this,void 0,void 0,(function(){var _a;return __generator(this,(function(_b){switch(_b.label){case 0:_a=resolve;return[4,File.fromArrayBuffer(reader.result,file.name)];case 1:return[2,_a.apply(void 0,[_b.sent()])]}}))}))}));reader.readAsArrayBuffer(file)}))})))};File.fromCanvas=function(el){if(!misc_utils_of_mine_generic_1.inBrowser()){throw new Error("This method is only supported in the browser")}return File.fromMat(cv.imread(el))};File.resolveOne=function(files){return __awaiter(this,void 0,void 0,(function(){var a;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,File.resolve(files)];case 1:a=_a.sent();return[2,a.length>0?a[0]:undefined]}}))}))};File.resolve=function(files){return __awaiter(this,void 0,void 0,(function(){var a,result;var _this=this;return __generator(this,(function(_a){switch(_a.label){case 0:a=misc_utils_of_mine_generic_1.asArray(files||[]).filter(misc_utils_of_mine_generic_1.notUndefined);return[4,misc_utils_of_mine_generic_1.serial(a.map((function(f){return function(){return __awaiter(_this,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:if(!(typeof f==="string"))return[3,5];if(!fileUtil_1.isFile(f))return[3,2];return[4,File.fromFile(f)];case 1:return[2,_a.sent()];case 2:return[4,File.fromUrl(f)];case 3:return[2,_a.sent()];case 4:return[3,6];case 5:assert_1.ok(ArrayBuffer.isView(f._mat.data.buffer));return[2,f];case 6:return[2]}}))}))}})))];case 1:result=_a.sent();return[2,result.filter(misc_utils_of_mine_generic_1.notUndefined)]}}))}))};File.isFile=function(f){return!!f&&!!f.name&&!!f._mat&&!!f._mat.data&&typeof f.constructor!=="undefined"&&!!f.asImageData&&!!f.asMat};File.asPath=function(f){return typeof f==="string"?f:f.name};File.fromData=function(data,name){return new File(File._buildName(name),cv.matFromImageData(data))};File._buildName=function(name){return name||misc_utils_of_mine_generic_1.unique("file")+".png"};File.fromMat=function(mat,name){return new File(File._buildName(name),mat)};File.prototype.toString=function(){return'[File "'+this.name+'"]'};File.fromUrl=function(url,o){if(o===void 0){o={}}return __awaiter(this,void 0,void 0,(function(){var p,response,buffer,data;return __generator(this,(function(_a){switch(_a.label){case 0:p=format_1.getDefaultCodec();return[4,cross_fetch_1.default(url)];case 1:response=_a.sent();return[4,response.arrayBuffer()];case 2:buffer=_a.sent();return[4,format_1.decodeOrThrow(buffer)];case 3:data=_a.sent();return[2,File.fromData(data,o.name||misc_utils_of_mine_generic_1.getFileNameFromUrl(url))]}}))}))};File.fromFile=function(path,name){if(name===void 0){name=misc_utils_of_mine_generic_1.basename(path)}return __awaiter(this,void 0,void 0,(function(){var data;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,format_1.decodeOrThrow(fileUtil_1.readFile(path).buffer)];case 1:data=_a.sent();return[2,File.fromData(data,name)]}}))}))};return File}();exports.File=File}).call(this,require("buffer").Buffer)},{"./browser/imageCreation":3,"./format":9,"./util/base64":58,"./util/fileUtil":59,"./util/imageUtil":61,assert:64,buffer:70,"cross-fetch":71,"file-type":72,"misc-utils-of-mine-generic":92}],7:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};Object.defineProperty(exports,"__esModule",{value:true});var misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");var canvasRender_1=require("../browser/canvasRender");var file_1=require("../file");var base64_1=require("../util/base64");var CanvasCodec=function(){function CanvasCodec(){}CanvasCodec.prototype.decode=function(buffer,format){return __awaiter(this,void 0,void 0,(function(){var tt,mime,_a,canvas,height,width,_b;return __generator(this,(function(_c){switch(_c.label){case 0:mime=format?misc_utils_of_mine_generic_1.getMimeTypeForExtension(format):(tt=file_1.File.fileType(buffer))&&tt.mime||undefined;if(!mime){return[2]}if(!(mime==="image/svg+xml"))return[3,2];return[4,canvasRender_1.renderSvgInCanvas(base64_1.arrayBufferToString(buffer))];case 1:_b=_c.sent();return[3,4];case 2:return[4,canvasRender_1.renderArrayBufferInCanvas(buffer,mime)];case 3:_b=_c.sent();_c.label=4;case 4:_a=_b,canvas=_a.canvas,height=_a.height,width=_a.width;return[2,canvas.getContext("2d").getImageData(0,0,width,height)]}}))}))};CanvasCodec.prototype.encode=function(data,format,quality){return __awaiter(this,void 0,void 0,(function(){var mat,canvas_1;return __generator(this,(function(_a){try{mat=cv.matFromImageData(data);canvas_1=canvasRender_1.renderInCanvas(mat,{forceSameSize:true,rgba:true});mat.delete();return[2,new Promise((function(resolve,reject){canvas_1.toBlob((function(b){if(!b){return resolve(undefined)}var r=new FileReader;r.onloadend=function(a){resolve(r.result||undefined)};r.onerror=r.onabort=function(){r.error?reject(r.error):resolve(undefined)};r.readAsArrayBuffer(b)}),misc_utils_of_mine_generic_1.getMimeTypeForExtension(format)||"image/png",quality)}))]}catch(error){console.error(error)}return[2]}))}))};return CanvasCodec}();exports.CanvasCodec=CanvasCodec},{"../browser/canvasRender":2,"../file":6,"../util/base64":58,"misc-utils-of-mine-generic":92}],8:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};Object.defineProperty(exports,"__esModule",{value:true});var misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");var file_1=require("../file");function installFormatProxy(proxy){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){proxies.push(proxy);return[2]}))}))}exports.installFormatProxy=installFormatProxy;function unInstallFormatProxies(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){proxies.length=0;return[2]}))}))}exports.unInstallFormatProxies=unInstallFormatProxies;var proxies=[];var codecs=[];var _proxyLoaded=false;function createCodec(proxy){return __awaiter(this,void 0,void 0,(function(){var _a;return __generator(this,(function(_b){switch(_b.label){case 0:if(!(typeof proxy==="function"))return[3,2];return[4,proxy()];case 1:_a=_b.sent();return[3,4];case 2:return[4,proxy.create()];case 3:_a=_b.sent();_b.label=4;case 4:return[2,_a]}}))}))}function loadFormatProxies(){return __awaiter(this,void 0,void 0,(function(){var _a;var _this=this;return __generator(this,(function(_b){switch(_b.label){case 0:if(!!_proxyLoaded)return[3,3];_proxyLoaded=true;_a=proxies.length;if(!_a)return[3,2];return[4,misc_utils_of_mine_generic_1.serial(proxies.map((function(proxy){return function(){return __awaiter(_this,void 0,void 0,(function(){var p;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,createCodec(proxy)];case 1:p=_a.sent();codecs.push(p);return[2]}}))}))}})))];case 1:_a=_b.sent();_b.label=2;case 2:_a;_b.label=3;case 3:return[2]}}))}))}exports.loadFormatProxies=loadFormatProxies;function unloadFormatProxies(){codecs.length=0}exports.unloadFormatProxies=unloadFormatProxies;function getDefaultCodec(){var c=codecs.length?codecs[0]:undefined;if(!c){throw new Error("No codec found. you need to provide a proxy and wait for loadFormatProxies()")}return c}exports.getDefaultCodec=getDefaultCodec;function decodeOrThrow(buffer,format){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,getDefaultCodec().decode(buffer,format)];case 1:r=_a.sent();misc_utils_of_mine_generic_1.checkThrow(r,"Fail to decode buffer. "+(format?"requested format: "+format:"")+". Detected format: "+(file_1.File.getBufferFileType(buffer)&&file_1.File.getBufferFileType(buffer).mime||"unknown"));return[2,r]}}))}))}exports.decodeOrThrow=decodeOrThrow;function encodeOrThrow(data,format,quality){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,getDefaultCodec().encode(data,format,quality)];case 1:r=_a.sent();misc_utils_of_mine_generic_1.checkThrow(r,"Fail to encode to requested format "+format+". Given: "+format);return[2,r]}}))}))}exports.encodeOrThrow=encodeOrThrow},{"../file":6,"misc-utils-of-mine-generic":92}],9:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)if(Object.hasOwnProperty.call(mod,k))result[k]=mod[k];result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:true});__export(require("./canvasCodec"));__export(require("./format"));__export(require("./jimpCodec"));var canvasCodec=__importStar(require("./canvasCodec"));var f=__importStar(require("./format"));var jimpCodec=__importStar(require("./jimpCodec"));exports.format=__assign(__assign(__assign({},canvasCodec),f),jimpCodec)},{"./canvasCodec":7,"./format":8,"./jimpCodec":10}],10:[function(require,module,exports){(function(Buffer){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};Object.defineProperty(exports,"__esModule",{value:true});var misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");var JimpCodec=function(){function JimpCodec(jimp){this.jimp=jimp}JimpCodec.prototype.decode=function(buffer){return __awaiter(this,void 0,void 0,(function(){var img;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,this.jimp.create(Buffer.from(buffer))];case 1:img=_a.sent();return[2,img.bitmap]}}))}))};JimpCodec.prototype.encode=function(data,format,quality){return __awaiter(this,void 0,void 0,(function(){var mime,img,buffer;return __generator(this,(function(_a){switch(_a.label){case 0:mime=misc_utils_of_mine_generic_1.getMimeTypeForExtension(format);if(!mime){throw new Error("format not supported"+format)}img=new this.jimp(__assign(__assign({},data),{data:Buffer.from(data.data.buffer)}));return[4,img.getBufferAsync(mime)];case 1:buffer=_a.sent();return[2,buffer]}}))}))};return JimpCodec}();exports.JimpCodec=JimpCodec}).call(this,require("buffer").Buffer)},{buffer:70,"misc-utils-of-mine-generic":92}],11:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./browser"));__export(require("./file"));__export(require("./format/"));__export(require("./opencvReady"));__export(require("./types/opencv"));__export(require("./util"));require("./types/_cv")},{"./browser":4,"./file":6,"./format/":9,"./opencvReady":12,"./types/_cv":13,"./types/opencv":52,"./util":62}],12:[function(require,module,exports){(function(process){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};var __spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};Object.defineProperty(exports,"__esModule",{value:true});var fs_1=require("fs");var misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");var format_1=require("./format");var misc_1=require("./util/misc");exports.FS_ROOT="/work";var FS_;function getFS(){return FS_}exports.getFS=getFS;var opencvLoaded=false;function loadOpencv(options){if(options===void 0){options={}}return __awaiter(this,void 0,void 0,(function(){var formatProxies;var _this=this;return __generator(this,(function(_a){switch(_a.label){case 0:if(options.force){opencvLoaded=false;misc_utils_of_mine_generic_1.getGlobal().Module=undefined;FS_=undefined}if(opencvLoaded){options.onloadCallback&&options.onloadCallback();return[2]}formatProxies=options.formatProxies||__spreadArrays(misc_utils_of_mine_generic_1.isNode()?[]:[function(){return new format_1.CanvasCodec}]);return[4,misc_utils_of_mine_generic_1.serial(formatProxies.map((function(p){return function(){return __awaiter(_this,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return[4,format_1.installFormatProxy(p)];case 1:_a.sent();return[2]}}))}))}})))];case 1:_a.sent();return[4,format_1.loadFormatProxies()];case 2:_a.sent();if(!misc_utils_of_mine_generic_1.isNode())return[3,4];return[4,loadOpencvNode(options)];case 3:_a.sent();return[3,6];case 4:return[4,loadOpencvBrowser(options)];case 5:_a.sent();_a.label=6;case 6:return[2]}}))}))}exports.loadOpencv=loadOpencv;function loadFormatCodecs(o){return __awaiter(this,void 0,void 0,(function(){var _this=this;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,misc_utils_of_mine_generic_1.serial((o.formatProxies||[]).map((function(p){return function(){return __awaiter(_this,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return[4,format_1.installFormatProxy(p)];case 1:_a.sent();return[2]}}))}))}})))];case 1:_a.sent();return[4,format_1.loadFormatProxies()];case 2:_a.sent();return[2]}}))}))}function loadOpencvNode(o){var _this=this;return new Promise((function(resolve){var fileName=o.opencvJsExceptions?"opencv_exception.js":"opencv.js";var paths=[o.opencvJsLocation,"./node_modules/mirada/dist/src/"+fileName,"./dist/src/"+fileName].filter(misc_utils_of_mine_generic_1.notFalsy);var g=misc_utils_of_mine_generic_1.getGlobal();var path=paths.find(fs_1.existsSync);var resolved=path&&misc_1.resolveNodeModule(path);if(!resolved){throw misc_1.buildError(fileName+" not found. in any of these: "+paths.join(", "))}g.Module={preRun:function(){if(typeof window!=="object"&&!g.Module.FS.analyzePath(exports.FS_ROOT).exists){g.Module.FS.mkdir(exports.FS_ROOT);g.Module.FS.mount(g.Module.FS.filesystems.NODEFS,{root:o.cwd||process.cwd()||"."},exports.FS_ROOT)}},onRuntimeInitialized:function(){return __awaiter(_this,void 0,void 0,(function(){return __generator(this,(function(_a){opencvLoaded=true;FS_=misc_utils_of_mine_generic_1.getGlobal().Module.FS;o.onloadCallback&&o.onloadCallback();resolve();return[2]}))}))},onAbort:function(e){console.error("Error has occurred in WebAssembly Module",e,e.stack);console.trace()}};try{g.cv=require(resolved)}catch(error){console.error("An error occurred when trying to load "+fileName+" form "+resolved,error,error.stack);throw error}}))}function loadOpencvBrowser(o){var _this=this;return new Promise((function(resolve,reject){var script=document.createElement("script");script.setAttribute("async","");script.setAttribute("type","text/javascript");script.addEventListener("load",(function(){return __awaiter(_this,void 0,void 0,(function(){var g;var _this=this;return __generator(this,(function(_a){g=misc_utils_of_mine_generic_1.getGlobal();if(typeof g.cv!=="undefined"&&typeof g.cv.getBuildInformation!=="undefined"){opencvLoaded=true;FS_=misc_utils_of_mine_generic_1.getGlobal().Module.FS;o.onloadCallback&&o.onloadCallback();resolve()}else{g.cv=typeof g.cv==="undefined"?{}:g.cv;g.cv.onRuntimeInitialized=function(){return __awaiter(_this,void 0,void 0,(function(){return __generator(this,(function(_a){opencvLoaded=true;FS_=misc_utils_of_mine_generic_1.getGlobal().Module.FS;o.onloadCallback&&o.onloadCallback();resolve();return[2]}))}))}}return[2]}))}))}));var src=o.opencvJsLocation||(o.opencvJsExceptions?"opencv_exception.js":"opencv.js");script.addEventListener("error",(function(){reject("Failed to load "+src)}));script.src=src;var node=document.getElementsByTagName("script")[0];node.parentNode.insertBefore(script,node)}))}}).call(this,require("_process"))},{"./format":9,"./util/misc":63,_process:121,fs:69,"misc-utils-of-mine-generic":92}],13:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],14:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],15:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _types_1=require("./_types")},{"./_types":35}],16:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],17:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],18:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],19:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _types_1=require("./_types")},{"./_types":35}],20:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],21:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],22:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],23:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],24:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],25:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],26:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],27:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _types_1=require("./_types")},{"./_types":35}],28:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _types_1=require("./_types")},{"./_types":35}],29:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],30:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],31:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],32:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],33:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],34:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Mat_1=require("./Mat");exports.InputArray=Mat_1.Mat;exports.InputArrayOfArrays=Mat_1.Mat;exports.InputOutputArray=Mat_1.Mat;exports.InputOutputArrayOfArrays=Mat_1.Mat;exports.MatVector=Mat_1.Mat;exports.OutputArray=Mat_1.Mat;exports.OutputArrayOfArrays=Mat_1.Mat;var _1=require(".");require("../_cv")},{".":52,"../_cv":13,"./Mat":27}],35:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./Affine3"));__export(require("./Algorithm"));__export(require("./AutoBuffer"));__export(require("./BFMatcher"));__export(require("./BOWTrainer"));__export(require("./calib3d"));__export(require("./CascadeClassifier"));__export(require("./core_array"));__export(require("./core_cluster"));__export(require("./core_hal_interface"));__export(require("./core_utils"));__export(require("./DescriptorMatcher"));__export(require("./dnn"));__export(require("./DynamicBitset"));__export(require("./Exception"));__export(require("./features2d_draw"));__export(require("./FlannBasedMatcher"));__export(require("./HOGDescriptor"));__export(require("./imgproc_color_conversions"));__export(require("./imgproc_draw"));__export(require("./imgproc_feature"));__export(require("./imgproc_filter"));__export(require("./imgproc_hist"));__export(require("./imgproc_misc"));__export(require("./imgproc_object"));__export(require("./imgproc_shape"));__export(require("./imgproc_transform"));__export(require("./Logger"));__export(require("./LshTable"));__export(require("./Mat"));__export(require("./MatExpr"));__export(require("./MatOp"));__export(require("./Matx"));__export(require("./Node"));__export(require("./objdetect"));__export(require("./PCA"));__export(require("./photo_inpaint"));__export(require("./RotatedRect"));__export(require("./softdouble"));__export(require("./softfloat"));__export(require("./video_track"));__export(require("./_hacks"))},{"./Affine3":14,"./Algorithm":15,"./AutoBuffer":16,"./BFMatcher":17,"./BOWTrainer":18,"./CascadeClassifier":19,"./DescriptorMatcher":20,"./DynamicBitset":21,"./Exception":22,"./FlannBasedMatcher":23,"./HOGDescriptor":24,"./Logger":25,"./LshTable":26,"./Mat":27,"./MatExpr":28,"./MatOp":29,"./Matx":30,"./Node":31,"./PCA":32,"./RotatedRect":33,"./_hacks":34,"./calib3d":36,"./core_array":37,"./core_cluster":38,"./core_hal_interface":39,"./core_utils":40,"./dnn":41,"./features2d_draw":42,"./imgproc_color_conversions":43,"./imgproc_draw":44,"./imgproc_feature":45,"./imgproc_filter":46,"./imgproc_hist":47,"./imgproc_misc":48,"./imgproc_object":49,"./imgproc_shape":50,"./imgproc_transform":51,"./objdetect":53,"./photo_inpaint":54,"./softdouble":55,"./softfloat":56,"./video_track":57}],36:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],37:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],38:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],39:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],40:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],41:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],42:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],43:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],44:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],45:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],46:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],47:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],48:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],49:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],50:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],51:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],52:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./_hacks"));__export(require("./_types"))},{"./_hacks":34,"./_types":35}],53:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],54:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],55:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],56:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],57:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true})},{}],58:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var buffer_1=require("buffer/");function dataToUrl(data,mimeType,fileName){return base64ToUrl(dataToBase64(data),mimeType,fileName)}exports.dataToUrl=dataToUrl;function dataToBase64(data){return buffer_1.Buffer.from(data).toString("base64")}exports.dataToBase64=dataToBase64;function base64ToUrl(base64,mimeType,fileName){return"data:"+mimeType+(fileName?";name="+fileName:"")+";base64,"+base64}exports.base64ToUrl=base64ToUrl;function urlToBase64(s){return s.substring(s.indexOf(";base64,")+";base64,".length)}exports.urlToBase64=urlToBase64;function getDataUrlFileName(url){var p=url&&url.split(";base64,");var q=p.length?p[0].split(";").find((function(s){return s.includes("name=")})):"";p=q?q.split("="):[];return p[p.length-1]}exports.getDataUrlFileName=getDataUrlFileName;function arrayBufferToBase64(buffer){return buffer_1.Buffer.from(buffer).toString("base64")}exports.arrayBufferToBase64=arrayBufferToBase64;function arrayBufferToUrl(buffer,mime,name){var b64=arrayBufferToBase64(buffer);return base64ToUrl(b64,mime,name)}exports.arrayBufferToUrl=arrayBufferToUrl;function arrayBufferToString(buffer){return buffer_1.Buffer.from(buffer).toString()}exports.arrayBufferToString=arrayBufferToString},{"buffer/":70}],59:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:true});var cross_fetch_1=__importDefault(require("cross-fetch"));var opencvReady_1=require("../opencvReady");function readFile(f,FS){if(FS===void 0){FS=cv.FS}return FS.readFile(getFilePath(f))}exports.readFile=readFile;function getFileName(path){return path.startsWith(opencvReady_1.FS_ROOT+"/")?path.substring((opencvReady_1.FS_ROOT+"/").length,path.length):""+path}exports.getFileName=getFileName;function getFilePath(path){return path.startsWith(opencvReady_1.FS_ROOT+"/")?path:opencvReady_1.FS_ROOT+"/"+path}exports.getFilePath=getFilePath;function writeFile(name,f,FS){if(FS===void 0){FS=cv.FS}FS.writeFile(getFilePath(name),f)}exports.writeFile=writeFile;function removeFile(f,FS){if(FS===void 0){FS=cv.FS}FS.unlink(getFilePath(getFilePath(f)))}exports.removeFile=removeFile;function isDir(f,FS){if(FS===void 0){FS=cv.FS}try{return FS.isDir(FS.stat(getFilePath(f)).mode)}catch(error){return false}}exports.isDir=isDir;function isFile(f,FS){if(FS===void 0){FS=cv.FS}try{return FS.isFile(FS.stat(getFilePath(f)).mode)}catch(error){return false}}exports.isFile=isFile;exports.fileUtil={isDir:isDir,isFile:isFile,removeFile:removeFile,writeFile:writeFile,getFilePath:getFilePath,readFile:readFile,getFileName:getFileName};function loadDataFile(url,name){return __awaiter(this,void 0,void 0,(function(){var r,_a,_b,_c,_d;return __generator(this,(function(_e){switch(_e.label){case 0:name=name||url.substring(url.lastIndexOf("/")+1,url.length);if(!!cv.FS.readdir("/").includes(name))return[3,4];return[4,cross_fetch_1.default(url)];case 1:r=_e.sent();_b=(_a=cv.FS).createDataFile;_c=["/",name];_d=Uint8ClampedArray.bind;return[4,r.arrayBuffer()];case 2:return[4,_b.apply(_a,_c.concat([new(_d.apply(Uint8ClampedArray,[void 0,_e.sent()])),true,false,false]))];case 3:_e.sent();_e.label=4;case 4:return[2,name]}}))}))}exports.loadDataFile=loadDataFile},{"../opencvReady":12,"cross-fetch":71}],60:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};Object.defineProperty(exports,"__esModule",{value:true});var __1=require("..");var imageUtil_1=require("./imageUtil");function grabCut_obsolete(o){return __awaiter(this,void 0,void 0,(function(){var src,mask,bgdModel,fgdModel,rect,i,j,point1,point2,rgbaImg,image;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,__1.loadOpencv()];case 1:_a.sent();src=o.image.asMat();cv.cvtColor(src,src,cv.COLOR_RGBA2RGB,0);mask=new cv.Mat;bgdModel=new cv.Mat;fgdModel=new cv.Mat;rect=new cv.Rect(o.x,o.y,o.width,o.height);cv.grabCut(src,mask,rect,bgdModel,fgdModel,1,cv.GC_INIT_WITH_RECT);for(i=0;i<src.rows;i++){for(j=0;j<src.cols;j++){if(mask.ucharPtr(i,j)[0]==0||mask.ucharPtr(i,j)[0]==2){src.ucharPtr(i,j)[0]=0;src.ucharPtr(i,j)[1]=0;src.ucharPtr(i,j)[2]=0}}}if(o.frameColor){point1=new cv.Point(rect.x,rect.y);point2=new cv.Point(rect.x+rect.width,rect.y+rect.height);cv.rectangle(src,point1,point2,o.frameColor)}rgbaImg=imageUtil_1.toRgba(src);image=__1.toImageData(rgbaImg);mask.delete();rgbaImg.delete();bgdModel.delete();fgdModel.delete();return[2,{image:image}]}}))}))}exports.grabCut_obsolete=grabCut_obsolete},{"..":11,"./imageUtil":61}],61:[function(require,module,exports){(function(Buffer){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};Object.defineProperty(exports,"__esModule",{value:true});var misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");var file_1=require("../file");function toImageData(img){return{data:new Uint8ClampedArray(img.data),width:img.cols,height:img.rows}}exports.toImageData=toImageData;exports.asImageData=toImageData;function isMat(m){return m&&typeof m.rows==="number"&&typeof m.cols==="number"&&typeof m.data==="object"&&typeof m.copyTo==="function"}exports.isMat=isMat;function toRgba(mat,dst){if(dst===void 0){dst=new cv.Mat}var depth=mat.type()%8;var scale=depth<=cv.CV_8S?1:depth<=cv.CV_32S?1/256:255;var shift=depth===cv.CV_8S||depth===cv.CV_16S?128:0;mat.convertTo(dst,cv.CV_8U,scale,shift);switch(dst.type()){case cv.CV_8UC1:cv.cvtColor(dst,dst,cv.COLOR_GRAY2RGBA);break;case cv.CV_8UC3:cv.cvtColor(dst,dst,cv.COLOR_RGB2RGBA);break;case cv.CV_8UC4:break;default:throw new Error("Bad number of channels (Source image must have 1, 3 or 4 channels)")}return dst}exports.toRgba=toRgba;function fromFile(f){return __awaiter(this,void 0,void 0,(function(){var file;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,file_1.File.fromFile(f)];case 1:file=_a.sent();return[2,file.asMat()]}}))}))}exports.fromFile=fromFile;function fromArrayBuffer(a){return __awaiter(this,void 0,void 0,(function(){var file;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,file_1.File.fromArrayBuffer(a)];case 1:file=_a.sent();return[2,file.asMat()]}}))}))}exports.fromArrayBuffer=fromArrayBuffer;function fromUrl(f){return __awaiter(this,void 0,void 0,(function(){var file;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,file_1.File.fromUrl(f)];case 1:file=_a.sent();return[2,file.asMat()]}}))}))}exports.fromUrl=fromUrl;function compareL2(f1,f2,destroyBoth){if(destroyBoth===void 0){destroyBoth=false}var a=asMat(f1),b=asMat(f2);if(a.rows>0&&a.rows==b.rows&&a.cols>0&&a.cols==a.cols){var errorL2=cv.norm1(a,b,cv.NORM_L2);var similarity=errorL2/(a.rows*a.cols);destroyBoth&&del(a,b);return similarity}else{return 1}}exports.compareL2=compareL2;function asMat(f){return file_1.File.isFile(f)?f.asMat():f}exports.asMat=asMat;function del(){var m=[];for(var _i=0;_i<arguments.length;_i++){m[_i]=arguments[_i]}m.filter((function(m){return!m.isDeleted()})).forEach((function(m){return m.delete()}))}exports.del=del;function set(m,x,y,val){var c=m.channels();var view=m.data;for(var i=0;i<val.length;i++){view[y*c*m.cols+x*c+i]=val[i]}}exports.set=set;function get(m,x,y){var c=m.channels();var view=m.data;var v=[];for(var i=0;i<c;i++){v.push(view[y*c*m.cols+x*c+i])}return v}exports.get=get;function map(mat,dst,fn){for(var y=0;y<mat.rows;y++){for(var x=0;x<mat.cols;x++){var v=fn(get(mat,x,y),x,y);set(dst,x,y,v)}}}exports.map=map;var _noArray;function noArray(){if(!_noArray){_noArray=cv.Mat.ones(0,0,cv.CV_8U)}return _noArray}exports.noArray=noArray;function pointToSize(p){return new cv.Size(p.x,p.y)}exports.pointToSize=pointToSize;function sizeToPoint(s){return new cv.Point(s.width,s.height)}exports.sizeToPoint=sizeToPoint;function isSize(size){return typeof size==="object"&&typeof size.width==="number"}exports.isSize=isSize;function mat2data(m){return{rows:m.rows,cols:m.cols,type:m.type(),data:ab2str(m.data)}}exports.mat2data=mat2data;function data2mat(d){return cv.matFromArray(d.rows,d.cols,d.type,str2ab(d.data))}exports.data2mat=data2mat;function isMatData(d){return d&&typeof d==="object"&&typeof d.rows==="number"&&typeof d.cols==="number"&&typeof d.type!=="undefined"&&Object.keys(d).sort().join(",")==="cols,data,rows,type"}exports.isMatData=isMatData;var _Buffer=require("buffer/").Buffer;if(misc_utils_of_mine_generic_1.isNode()&&typeof _Buffer!=="undefined"){_Buffer=Buffer}function ab2str(buf){return _Buffer.from(buf).toString("base64")}function str2ab(str){return new Uint8Array(_Buffer.from(str,"base64"))}function jsonStringifyWithMat(s){return JSON.stringify(s,(function(key,value){if(isMat(value)){return mat2data(value)}else{return value}}))}exports.jsonStringifyWithMat=jsonStringifyWithMat;function jsonParseWithMat(d){return JSON.parse(d,(function(key,value){if(isMatData(value)){return data2mat(value)}else{return value}}))}exports.jsonParseWithMat=jsonParseWithMat}).call(this,require("buffer").Buffer)},{"../file":6,buffer:70,"buffer/":70,"misc-utils-of-mine-generic":92}],62:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)if(Object.hasOwnProperty.call(mod,k))result[k]=mod[k];result["default"]=mod;return result};Object.defineProperty(exports,"__esModule",{value:true});var fileUtil_1=require("./fileUtil");exports.fileUtil=fileUtil_1.fileUtil;exports.loadDataFile=fileUtil_1.loadDataFile;__export(require("./grabCut"));__export(require("./imageUtil"));var file=__importStar(require("./fileUtil"));exports.file=file},{"./fileUtil":59,"./grabCut":60,"./imageUtil":61}],63:[function(require,module,exports){(function(__dirname){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");var path_1=require("path");function buildError(e){console.error(e);if(typeof e.stack!=="undefined"){console.log((e.stack+"").split("\n").join("\n"))}return e instanceof Error?e:new Error(e)}exports.buildError=buildError;function resolveNodeModule(p){var r=misc_utils_of_mine_generic_1.withoutExtension(path_1.relative(path_1.join(__dirname,".."),path_1.resolve(p)));if(!r.startsWith(".")){r="./"+r}return r}exports.resolveNodeModule=resolveNodeModule;function msFrom(t0){return(now()-t0)/1e6}exports.msFrom=msFrom;function timeFrom(t0){return((now()-t0)/1e6).toPrecision(1)+" ms"}exports.timeFrom=timeFrom;var isBrowser=typeof performance!=="undefined"&&typeof performance.now==="function";function now(){return isBrowser?performance.now():0}exports.now=now}).call(this,"/dist/src/util")},{"misc-utils-of-mine-generic":92,path:120}],64:[function(require,module,exports){(function(global){"use strict";var objectAssign=require("object-assign");function compare(a,b){if(a===b){return 0}var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y){return-1}if(y<x){return 1}return 0}function isBuffer(b){if(global.Buffer&&typeof global.Buffer.isBuffer==="function"){return global.Buffer.isBuffer(b)}return!!(b!=null&&b._isBuffer)}var util=require("util/");var hasOwn=Object.prototype.hasOwnProperty;var pSlice=Array.prototype.slice;var functionsHaveNames=function(){return function foo(){}.name==="foo"}();function pToString(obj){return Object.prototype.toString.call(obj)}function isView(arrbuf){if(isBuffer(arrbuf)){return false}if(typeof global.ArrayBuffer!=="function"){return false}if(typeof ArrayBuffer.isView==="function"){return ArrayBuffer.isView(arrbuf)}if(!arrbuf){return false}if(arrbuf instanceof DataView){return true}if(arrbuf.buffer&&arrbuf.buffer instanceof ArrayBuffer){return true}return false}var assert=module.exports=ok;var regex=/\s*function\s+([^\(\s]*)\s*/;function getName(func){if(!util.isFunction(func)){return}if(functionsHaveNames){return func.name}var str=func.toString();var match=str.match(regex);return match&&match[1]}assert.AssertionError=function AssertionError(options){this.name="AssertionError";this.actual=options.actual;this.expected=options.expected;this.operator=options.operator;if(options.message){this.message=options.message;this.generatedMessage=false}else{this.message=getMessage(this);this.generatedMessage=true}var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace){Error.captureStackTrace(this,stackStartFunction)}else{var err=new Error;if(err.stack){var out=err.stack;var fn_name=getName(stackStartFunction);var idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}};util.inherits(assert.AssertionError,Error);function truncate(s,n){if(typeof s==="string"){return s.length<n?s:s.slice(0,n)}else{return s}}function inspect(something){if(functionsHaveNames||!util.isFunction(something)){return util.inspect(something)}var rawname=getName(something);var name=rawname?": "+rawname:"";return"[Function"+name+"]"}function getMessage(self){return truncate(inspect(self.actual),128)+" "+self.operator+" "+truncate(inspect(self.expected),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}assert.fail=fail;function ok(value,message){if(!value)fail(value,true,message,"==",assert.ok)}assert.ok=ok;assert.equal=function equal(actual,expected,message){if(actual!=expected)fail(actual,expected,message,"==",assert.equal)};assert.notEqual=function notEqual(actual,expected,message){if(actual==expected){fail(actual,expected,message,"!=",assert.notEqual)}};assert.deepEqual=function deepEqual(actual,expected,message){if(!_deepEqual(actual,expected,false)){fail(actual,expected,message,"deepEqual",assert.deepEqual)}};assert.deepStrictEqual=function deepStrictEqual(actual,expected,message){if(!_deepEqual(actual,expected,true)){fail(actual,expected,message,"deepStrictEqual",assert.deepStrictEqual)}};function _deepEqual(actual,expected,strict,memos){if(actual===expected){return true}else if(isBuffer(actual)&&isBuffer(expected)){return compare(actual,expected)===0}else if(util.isDate(actual)&&util.isDate(expected)){return actual.getTime()===expected.getTime()}else if(util.isRegExp(actual)&&util.isRegExp(expected)){return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase}else if((actual===null||typeof actual!=="object")&&(expected===null||typeof expected!=="object")){return strict?actual===expected:actual==expected}else if(isView(actual)&&isView(expected)&&pToString(actual)===pToString(expected)&&!(actual instanceof Float32Array||actual instanceof Float64Array)){return compare(new Uint8Array(actual.buffer),new Uint8Array(expected.buffer))===0}else if(isBuffer(actual)!==isBuffer(expected)){return false}else{memos=memos||{actual:[],expected:[]};var actualIndex=memos.actual.indexOf(actual);if(actualIndex!==-1){if(actualIndex===memos.expected.indexOf(expected)){return true}}memos.actual.push(actual);memos.expected.push(expected);return objEquiv(actual,expected,strict,memos)}}function isArguments(object){return Object.prototype.toString.call(object)=="[object Arguments]"}function objEquiv(a,b,strict,actualVisitedObjects){if(a===null||a===undefined||b===null||b===undefined)return false;if(util.isPrimitive(a)||util.isPrimitive(b))return a===b;if(strict&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return false;var aIsArgs=isArguments(a);var bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return false;if(aIsArgs){a=pSlice.call(a);b=pSlice.call(b);return _deepEqual(a,b,strict)}var ka=objectKeys(a);var kb=objectKeys(b);var key,i;if(ka.length!==kb.length)return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!==kb[i])return false}for(i=ka.length-1;i>=0;i--){key=ka[i];if(!_deepEqual(a[key],b[key],strict,actualVisitedObjects))return false}return true}assert.notDeepEqual=function notDeepEqual(actual,expected,message){if(_deepEqual(actual,expected,false)){fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)}};assert.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(actual,expected,message){if(_deepEqual(actual,expected,true)){fail(actual,expected,message,"notDeepStrictEqual",notDeepStrictEqual)}}assert.strictEqual=function strictEqual(actual,expected,message){if(actual!==expected){fail(actual,expected,message,"===",assert.strictEqual)}};assert.notStrictEqual=function notStrictEqual(actual,expected,message){if(actual===expected){fail(actual,expected,message,"!==",assert.notStrictEqual)}};function expectedException(actual,expected){if(!actual||!expected){return false}if(Object.prototype.toString.call(expected)=="[object RegExp]"){return expected.test(actual)}try{if(actual instanceof expected){return true}}catch(e){}if(Error.isPrototypeOf(expected)){return false}return expected.call({},actual)===true}function _tryBlock(block){var error;try{block()}catch(e){error=e}return error}function _throws(shouldThrow,block,expected,message){var actual;if(typeof block!=="function"){throw new TypeError('"block" argument must be a function')}if(typeof expected==="string"){message=expected;expected=null}actual=_tryBlock(block);message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:".");if(shouldThrow&&!actual){fail(actual,expected,"Missing expected exception"+message)}var userProvidedMessage=typeof message==="string";var isUnwantedException=!shouldThrow&&util.isError(actual);var isUnexpectedException=!shouldThrow&&actual&&!expected;if(isUnwantedException&&userProvidedMessage&&expectedException(actual,expected)||isUnexpectedException){fail(actual,expected,"Got unwanted exception"+message)}if(shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual){throw actual}}assert.throws=function(block,error,message){_throws(true,block,error,message)};assert.doesNotThrow=function(block,error,message){_throws(false,block,error,message)};assert.ifError=function(err){if(err)throw err};function strict(value,message){if(!value)fail(value,true,message,"==",strict)}assert.strict=objectAssign(strict,assert,{equal:assert.strictEqual,deepEqual:assert.deepStrictEqual,notEqual:assert.notStrictEqual,notDeepEqual:assert.notDeepStrictEqual});assert.strict.strict=assert.strict;var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){if(hasOwn.call(obj,key))keys.push(key)}return keys}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"object-assign":119,"util/":67}],65:[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],66:[function(require,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],67:[function(require,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,(function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}));for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}if(process.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach((function(val,idx){hash[val]=true}));return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map((function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}))}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach((function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}}));return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map((function(line){return"  "+line})).join("\n").substr(2)}else{str="\n"+str.split("\n").map((function(line){return"   "+line})).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce((function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=require("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":66,_process:121,inherits:65}],68:[function(require,module,exports){"use strict";exports.byteLength=byteLength;exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(b64){var len=b64.length;if(len%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var validLen=b64.indexOf("=");if(validLen===-1)validLen=len;var placeHoldersLen=validLen===len?0:4-validLen%4;return[validLen,placeHoldersLen]}function byteLength(b64){var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function _byteLength(b64,validLen,placeHoldersLen){return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function toByteArray(b64){var tmp;var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];var arr=new Arr(_byteLength(b64,validLen,placeHoldersLen));var curByte=0;var len=placeHoldersLen>0?validLen-4:validLen;var i;for(i=0;i<len;i+=4){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[curByte++]=tmp>>16&255;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}if(placeHoldersLen===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[curByte++]=tmp&255}if(placeHoldersLen===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(uint8[i+2]&255);output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(extraBytes===1){tmp=uint8[len-1];parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"=")}return parts.join("")}},{}],69:[function(require,module,exports){},{}],70:[function(require,module,exports){(function(Buffer){"use strict";var base64=require("base64-js");var ieee754=require("ieee754");var customInspectSymbol=typeof Symbol==="function"&&typeof Symbol.for==="function"?Symbol.for("nodejs.util.inspect.custom"):null;exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;exports.kMaxLength=K_MAX_LENGTH;Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport();if(!Buffer.TYPED_ARRAY_SUPPORT&&typeof console!=="undefined"&&typeof console.error==="function"){console.error("This browser lacks typed array (Uint8Array) support which is required by "+"`buffer` v5.x. Use `buffer` v4.x if you require old browser support.")}function typedArraySupport(){try{var arr=new Uint8Array(1);var proto={foo:function(){return 42}};Object.setPrototypeOf(proto,Uint8Array.prototype);Object.setPrototypeOf(arr,proto);return arr.foo()===42}catch(e){return false}}Object.defineProperty(Buffer.prototype,"parent",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.buffer}});Object.defineProperty(Buffer.prototype,"offset",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.byteOffset}});function createBuffer(length){if(length>K_MAX_LENGTH){throw new RangeError('The value "'+length+'" is invalid for option "size"')}var buf=new Uint8Array(length);Object.setPrototypeOf(buf,Buffer.prototype);return buf}function Buffer(arg,encodingOrOffset,length){if(typeof arg==="number"){if(typeof encodingOrOffset==="string"){throw new TypeError('The "string" argument must be of type string. Received type number')}return allocUnsafe(arg)}return from(arg,encodingOrOffset,length)}if(typeof Symbol!=="undefined"&&Symbol.species!=null&&Buffer[Symbol.species]===Buffer){Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:true,enumerable:false,writable:false})}Buffer.poolSize=8192;function from(value,encodingOrOffset,length){if(typeof value==="string"){return fromString(value,encodingOrOffset)}if(ArrayBuffer.isView(value)){return fromArrayLike(value)}if(value==null){throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof value)}if(isInstance(value,ArrayBuffer)||value&&isInstance(value.buffer,ArrayBuffer)){return fromArrayBuffer(value,encodingOrOffset,length)}if(typeof value==="number"){throw new TypeError('The "value" argument must not be of type number. Received type number')}var valueOf=value.valueOf&&value.valueOf();if(valueOf!=null&&valueOf!==value){return Buffer.from(valueOf,encodingOrOffset,length)}var b=fromObject(value);if(b)return b;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof value[Symbol.toPrimitive]==="function"){return Buffer.from(value[Symbol.toPrimitive]("string"),encodingOrOffset,length)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof value)}Buffer.from=function(value,encodingOrOffset,length){return from(value,encodingOrOffset,length)};Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype);Object.setPrototypeOf(Buffer,Uint8Array);function assertSize(size){if(typeof size!=="number"){throw new TypeError('"size" argument must be of type number')}else if(size<0){throw new RangeError('The value "'+size+'" is invalid for option "size"')}}function alloc(size,fill,encoding){assertSize(size);if(size<=0){return createBuffer(size)}if(fill!==undefined){return typeof encoding==="string"?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill)}return createBuffer(size)}Buffer.alloc=function(size,fill,encoding){return alloc(size,fill,encoding)};function allocUnsafe(size){assertSize(size);return createBuffer(size<0?0:checked(size)|0)}Buffer.allocUnsafe=function(size){return allocUnsafe(size)};Buffer.allocUnsafeSlow=function(size){return allocUnsafe(size)};function fromString(string,encoding){if(typeof encoding!=="string"||encoding===""){encoding="utf8"}if(!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}var length=byteLength(string,encoding)|0;var buf=createBuffer(length);var actual=buf.write(string,encoding);if(actual!==length){buf=buf.slice(0,actual)}return buf}function fromArrayLike(array){var length=array.length<0?0:checked(array.length)|0;var buf=createBuffer(length);for(var i=0;i<length;i+=1){buf[i]=array[i]&255}return buf}function fromArrayBuffer(array,byteOffset,length){if(byteOffset<0||array.byteLength<byteOffset){throw new RangeError('"offset" is outside of buffer bounds')}if(array.byteLength<byteOffset+(length||0)){throw new RangeError('"length" is outside of buffer bounds')}var buf;if(byteOffset===undefined&&length===undefined){buf=new Uint8Array(array)}else if(length===undefined){buf=new Uint8Array(array,byteOffset)}else{buf=new Uint8Array(array,byteOffset,length)}Object.setPrototypeOf(buf,Buffer.prototype);return buf}function fromObject(obj){if(Buffer.isBuffer(obj)){var len=checked(obj.length)|0;var buf=createBuffer(len);if(buf.length===0){return buf}obj.copy(buf,0,0,len);return buf}if(obj.length!==undefined){if(typeof obj.length!=="number"||numberIsNaN(obj.length)){return createBuffer(0)}return fromArrayLike(obj)}if(obj.type==="Buffer"&&Array.isArray(obj.data)){return fromArrayLike(obj.data)}}function checked(length){if(length>=K_MAX_LENGTH){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+K_MAX_LENGTH.toString(16)+" bytes")}return length|0}function SlowBuffer(length){if(+length!=length){length=0}return Buffer.alloc(+length)}Buffer.isBuffer=function isBuffer(b){return b!=null&&b._isBuffer===true&&b!==Buffer.prototype};Buffer.compare=function compare(a,b){if(isInstance(a,Uint8Array))a=Buffer.from(a,a.offset,a.byteLength);if(isInstance(b,Uint8Array))b=Buffer.from(b,b.offset,b.byteLength);if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array')}if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,length){if(!Array.isArray(list)){throw new TypeError('"list" argument must be an Array of Buffers')}if(list.length===0){return Buffer.alloc(0)}var i;if(length===undefined){length=0;for(i=0;i<list.length;++i){length+=list[i].length}}var buffer=Buffer.allocUnsafe(length);var pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(isInstance(buf,Uint8Array)){buf=Buffer.from(buf)}if(!Buffer.isBuffer(buf)){throw new TypeError('"list" argument must be an Array of Buffers')}buf.copy(buffer,pos);pos+=buf.length}return buffer};function byteLength(string,encoding){if(Buffer.isBuffer(string)){return string.length}if(ArrayBuffer.isView(string)||isInstance(string,ArrayBuffer)){return string.byteLength}if(typeof string!=="string"){throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. '+"Received type "+typeof string)}var len=string.length;var mustMatch=arguments.length>2&&arguments[2]===true;if(!mustMatch&&len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase){return mustMatch?-1:utf8ToBytes(string).length}encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;if(start===undefined||start<0){start=0}if(start>this.length){return""}if(end===undefined||end>this.length){end=this.length}if(end<=0){return""}end>>>=0;start>>>=0;if(end<=start){return""}if(!encoding)encoding="utf8";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer.prototype._isBuffer=true;function swap(b,n,m){var i=b[n];b[n]=b[m];b[m]=i}Buffer.prototype.swap16=function swap16(){var len=this.length;if(len%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var i=0;i<len;i+=2){swap(this,i,i+1)}return this};Buffer.prototype.swap32=function swap32(){var len=this.length;if(len%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var i=0;i<len;i+=4){swap(this,i,i+3);swap(this,i+1,i+2)}return this};Buffer.prototype.swap64=function swap64(){var len=this.length;if(len%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var i=0;i<len;i+=8){swap(this,i,i+7);swap(this,i+1,i+6);swap(this,i+2,i+5);swap(this,i+3,i+4)}return this};Buffer.prototype.toString=function toString(){var length=this.length;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.toLocaleString=Buffer.prototype.toString;Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;str=this.toString("hex",0,max).replace(/(.{2})/g,"$1 ").trim();if(this.length>max)str+=" ... ";return"<Buffer "+str+">"};if(customInspectSymbol){Buffer.prototype[customInspectSymbol]=Buffer.prototype.inspect}Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(isInstance(target,Uint8Array)){target=Buffer.from(target,target.offset,target.byteLength)}if(!Buffer.isBuffer(target)){throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. '+"Received type "+typeof target)}if(start===undefined){start=0}if(end===undefined){end=target?target.length:0}if(thisStart===undefined){thisStart=0}if(thisEnd===undefined){thisEnd=this.length}if(start<0||end>target.length||thisStart<0||thisEnd>this.length){throw new RangeError("out of range index")}if(thisStart>=thisEnd&&start>=end){return 0}if(thisStart>=thisEnd){return-1}if(start>=end){return 1}start>>>=0;end>>>=0;thisStart>>>=0;thisEnd>>>=0;if(this===target)return 0;var x=thisEnd-thisStart;var y=end-start;var len=Math.min(x,y);var thisCopy=this.slice(thisStart,thisEnd);var targetCopy=target.slice(start,end);for(var i=0;i<len;++i){if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i];y=targetCopy[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(buffer.length===0)return-1;if(typeof byteOffset==="string"){encoding=byteOffset;byteOffset=0}else if(byteOffset>2147483647){byteOffset=2147483647}else if(byteOffset<-2147483648){byteOffset=-2147483648}byteOffset=+byteOffset;if(numberIsNaN(byteOffset)){byteOffset=dir?0:buffer.length-1}if(byteOffset<0)byteOffset=buffer.length+byteOffset;if(byteOffset>=buffer.length){if(dir)return-1;else byteOffset=buffer.length-1}else if(byteOffset<0){if(dir)byteOffset=0;else return-1}if(typeof val==="string"){val=Buffer.from(val,encoding)}if(Buffer.isBuffer(val)){if(val.length===0){return-1}return arrayIndexOf(buffer,val,byteOffset,encoding,dir)}else if(typeof val==="number"){val=val&255;if(typeof Uint8Array.prototype.indexOf==="function"){if(dir){return Uint8Array.prototype.indexOf.call(buffer,val,byteOffset)}else{return Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset)}}return arrayIndexOf(buffer,[val],byteOffset,encoding,dir)}throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var indexSize=1;var arrLength=arr.length;var valLength=val.length;if(encoding!==undefined){encoding=String(encoding).toLowerCase();if(encoding==="ucs2"||encoding==="ucs-2"||encoding==="utf16le"||encoding==="utf-16le"){if(arr.length<2||val.length<2){return-1}indexSize=2;arrLength/=2;valLength/=2;byteOffset/=2}}function read(buf,i){if(indexSize===1){return buf[i]}else{return buf.readUInt16BE(i*indexSize)}}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++){if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===valLength)return foundIndex*indexSize}else{if(foundIndex!==-1)i-=i-foundIndex;foundIndex=-1}}}else{if(byteOffset+valLength>arrLength)byteOffset=arrLength-valLength;for(i=byteOffset;i>=0;i--){var found=true;for(var j=0;j<valLength;j++){if(read(arr,i+j)!==read(val,j)){found=false;break}}if(found)return i}}return-1}Buffer.prototype.includes=function includes(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1};Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,true)};Buffer.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,false)};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(length>strLen/2){length=strLen/2}for(var i=0;i<length;++i){var parsed=parseInt(string.substr(i*2,2),16);if(numberIsNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset>>>0;if(isFinite(length)){length=length>>>0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112){codePoint=tempCodePoint}}}}if(codePoint===null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}var res="";var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i]&127)}return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;++i){out+=hexSliceLookupTable[buf[i]]}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf=this.subarray(start,end);Object.setPrototypeOf(newBuf,Buffer.prototype);return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,255,0);this[offset]=value&255;return offset+1};Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);this[offset]=value&255;this[offset+1]=value>>>8;return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);this[offset]=value>>>8;this[offset+1]=value&255;return offset+2};Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255;return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255;return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){if(value<0&&sub===0&&this[offset+i-1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){if(value<0&&sub===0&&this[offset+i+1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);this[offset]=value&255;this[offset+1]=value>>>8;return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);this[offset]=value>>>8;this[offset+1]=value&255;return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24;return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255;return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){value=+value;offset=offset>>>0;if(!noAssert){checkIEEE754(buf,value,offset,4,34028234663852886e22,-34028234663852886e22)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){value=+value;offset=offset>>>0;if(!noAssert){checkIEEE754(buf,value,offset,8,17976931348623157e292,-17976931348623157e292)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!Buffer.isBuffer(target))throw new TypeError("argument should be a Buffer");if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("Index out of range");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;if(this===target&&typeof Uint8Array.prototype.copyWithin==="function"){this.copyWithin(targetStart,start,end)}else if(this===target&&start<targetStart&&targetStart<end){for(var i=len-1;i>=0;--i){target[i+targetStart]=this[i+start]}}else{Uint8Array.prototype.set.call(target,this.subarray(start,end),targetStart)}return len};Buffer.prototype.fill=function fill(val,start,end,encoding){if(typeof val==="string"){if(typeof start==="string"){encoding=start;start=0;end=this.length}else if(typeof end==="string"){encoding=end;end=this.length}if(encoding!==undefined&&typeof encoding!=="string"){throw new TypeError("encoding must be a string")}if(typeof encoding==="string"&&!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}if(val.length===1){var code=val.charCodeAt(0);if(encoding==="utf8"&&code<128||encoding==="latin1"){val=code}}}else if(typeof val==="number"){val=val&255}else if(typeof val==="boolean"){val=Number(val)}if(start<0||this.length<start||this.length<end){throw new RangeError("Out of range index")}if(end<=start){return this}start=start>>>0;end=end===undefined?this.length:end>>>0;if(!val)val=0;var i;if(typeof val==="number"){for(i=start;i<end;++i){this[i]=val}}else{var bytes=Buffer.isBuffer(val)?val:Buffer.from(val,encoding);var len=bytes.length;if(len===0){throw new TypeError('The value "'+val+'" is invalid for argument "value"')}for(i=0;i<end-start;++i){this[i+start]=bytes[i%len]}}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(str){str=str.split("=")[0];str=str.trim().replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;++i){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189)}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;++i){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;++i){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;++i){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function isInstance(obj,type){return obj instanceof type||obj!=null&&obj.constructor!=null&&obj.constructor.name!=null&&obj.constructor.name===type.name}function numberIsNaN(obj){return obj!==obj}var hexSliceLookupTable=function(){var alphabet="0123456789abcdef";var table=new Array(256);for(var i=0;i<16;++i){var i16=i*16;for(var j=0;j<16;++j){table[i16+j]=alphabet[i]+alphabet[j]}}return table}()}).call(this,require("buffer").Buffer)},{"base64-js":68,buffer:70,ieee754:75}],71:[function(require,module,exports){var __self__=function(root){function F(){this.fetch=false;this.DOMException=root.DOMException}F.prototype=root;return new F}(typeof self!=="undefined"?self:this);(function(self){var irrelevant=function(exports){var support={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};function isDataView(obj){return obj&&DataView.prototype.isPrototypeOf(obj)}if(support.arrayBuffer){var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1}}function normalizeName(name){if(typeof name!=="string"){name=String(name)}if(/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name)){throw new TypeError("Invalid character in header field name")}return name.toLowerCase()}function normalizeValue(value){if(typeof value!=="string"){value=String(value)}return value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:value===undefined,value:value}}};if(support.iterable){iterator[Symbol.iterator]=function(){return iterator}}return iterator}function Headers(headers){this.map={};if(headers instanceof Headers){headers.forEach((function(value,name){this.append(name,value)}),this)}else if(Array.isArray(headers)){headers.forEach((function(header){this.append(header[0],header[1])}),this)}else if(headers){Object.getOwnPropertyNames(headers).forEach((function(name){this.append(name,headers[name])}),this)}}Headers.prototype.append=function(name,value){name=normalizeName(name);value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+", "+value:value};Headers.prototype["delete"]=function(name){delete this.map[normalizeName(name)]};Headers.prototype.get=function(name){name=normalizeName(name);return this.has(name)?this.map[name]:null};Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))};Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)};Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map){if(this.map.hasOwnProperty(name)){callback.call(thisArg,this.map[name],name,this)}}};Headers.prototype.keys=function(){var items=[];this.forEach((function(value,name){items.push(name)}));return iteratorFor(items)};Headers.prototype.values=function(){var items=[];this.forEach((function(value){items.push(value)}));return iteratorFor(items)};Headers.prototype.entries=function(){var items=[];this.forEach((function(value,name){items.push([name,value])}));return iteratorFor(items)};if(support.iterable){Headers.prototype[Symbol.iterator]=Headers.prototype.entries}function consumed(body){if(body.bodyUsed){return Promise.reject(new TypeError("Already read"))}body.bodyUsed=true}function fileReaderReady(reader){return new Promise((function(resolve,reject){reader.onload=function(){resolve(reader.result)};reader.onerror=function(){reject(reader.error)}}))}function readBlobAsArrayBuffer(blob){var reader=new FileReader;var promise=fileReaderReady(reader);reader.readAsArrayBuffer(blob);return promise}function readBlobAsText(blob){var reader=new FileReader;var promise=fileReaderReady(reader);reader.readAsText(blob);return promise}function readArrayBufferAsText(buf){var view=new Uint8Array(buf);var chars=new Array(view.length);for(var i=0;i<view.length;i++){chars[i]=String.fromCharCode(view[i])}return chars.join("")}function bufferClone(buf){if(buf.slice){return buf.slice(0)}else{var view=new Uint8Array(buf.byteLength);view.set(new Uint8Array(buf));return view.buffer}}function Body(){this.bodyUsed=false;this._initBody=function(body){this._bodyInit=body;if(!body){this._bodyText=""}else if(typeof body==="string"){this._bodyText=body}else if(support.blob&&Blob.prototype.isPrototypeOf(body)){this._bodyBlob=body}else if(support.formData&&FormData.prototype.isPrototypeOf(body)){this._bodyFormData=body}else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)){this._bodyText=body.toString()}else if(support.arrayBuffer&&support.blob&&isDataView(body)){this._bodyArrayBuffer=bufferClone(body.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else if(support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))){this._bodyArrayBuffer=bufferClone(body)}else{this._bodyText=body=Object.prototype.toString.call(body)}if(!this.headers.get("content-type")){if(typeof body==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}};if(support.blob){this.blob=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]))}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){return consumed(this)||Promise.resolve(this._bodyArrayBuffer)}else{return this.blob().then(readBlobAsArrayBuffer)}}}this.text=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return readBlobAsText(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}};if(support.formData){this.formData=function(){return this.text().then(decode)}}this.json=function(){return this.text().then(JSON.parse)};return this}var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function normalizeMethod(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}function Request(input,options){options=options||{};var body=options.body;if(input instanceof Request){if(input.bodyUsed){throw new TypeError("Already read")}this.url=input.url;this.credentials=input.credentials;if(!options.headers){this.headers=new Headers(input.headers)}this.method=input.method;this.mode=input.mode;this.signal=input.signal;if(!body&&input._bodyInit!=null){body=input._bodyInit;input.bodyUsed=true}}else{this.url=String(input)}this.credentials=options.credentials||this.credentials||"same-origin";if(options.headers||!this.headers){this.headers=new Headers(options.headers)}this.method=normalizeMethod(options.method||this.method||"GET");this.mode=options.mode||this.mode||null;this.signal=options.signal||this.signal;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&body){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(body)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})};function decode(body){var form=new FormData;body.trim().split("&").forEach((function(bytes){if(bytes){var split=bytes.split("=");var name=split.shift().replace(/\+/g," ");var value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}}));return form}function parseHeaders(rawHeaders){var headers=new Headers;var preProcessedHeaders=rawHeaders.replace(/\r?\n[\t ]+/g," ");preProcessedHeaders.split(/\r?\n/).forEach((function(line){var parts=line.split(":");var key=parts.shift().trim();if(key){var value=parts.join(":").trim();headers.append(key,value)}}));return headers}Body.call(Request.prototype);function Response(bodyInit,options){if(!options){options={}}this.type="default";this.status=options.status===undefined?200:options.status;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in options?options.statusText:"OK";this.headers=new Headers(options.headers);this.url=options.url||"";this._initBody(bodyInit)}Body.call(Response.prototype);Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})};Response.error=function(){var response=new Response(null,{status:0,statusText:""});response.type="error";return response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(redirectStatuses.indexOf(status)===-1){throw new RangeError("Invalid status code")}return new Response(null,{status:status,headers:{location:url}})};exports.DOMException=self.DOMException;try{new exports.DOMException}catch(err){exports.DOMException=function(message,name){this.message=message;this.name=name;var error=Error(message);this.stack=error.stack};exports.DOMException.prototype=Object.create(Error.prototype);exports.DOMException.prototype.constructor=exports.DOMException}function fetch(input,init){return new Promise((function(resolve,reject){var request=new Request(input,init);if(request.signal&&request.signal.aborted){return reject(new exports.DOMException("Aborted","AbortError"))}var xhr=new XMLHttpRequest;function abortXhr(){xhr.abort()}xhr.onload=function(){var options={status:xhr.status,statusText:xhr.statusText,headers:parseHeaders(xhr.getAllResponseHeaders()||"")};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))};xhr.onerror=function(){reject(new TypeError("Network request failed"))};xhr.ontimeout=function(){reject(new TypeError("Network request failed"))};xhr.onabort=function(){reject(new exports.DOMException("Aborted","AbortError"))};xhr.open(request.method,request.url,true);if(request.credentials==="include"){xhr.withCredentials=true}else if(request.credentials==="omit"){xhr.withCredentials=false}if("responseType"in xhr&&support.blob){xhr.responseType="blob"}request.headers.forEach((function(value,name){xhr.setRequestHeader(name,value)}));if(request.signal){request.signal.addEventListener("abort",abortXhr);xhr.onreadystatechange=function(){if(xhr.readyState===4){request.signal.removeEventListener("abort",abortXhr)}}}xhr.send(typeof request._bodyInit==="undefined"?null:request._bodyInit)}))}fetch.polyfill=true;if(!self.fetch){self.fetch=fetch;self.Headers=Headers;self.Request=Request;self.Response=Response}exports.Headers=Headers;exports.Request=Request;exports.Response=Response;exports.fetch=fetch;return exports}({})})(__self__);delete __self__.fetch.polyfill;exports=__self__.fetch;exports.default=__self__.fetch;exports.fetch=__self__.fetch;exports.Headers=__self__.Headers;exports.Request=__self__.Request;exports.Response=__self__.Response;module.exports=exports},{}],72:[function(require,module,exports){(function(Buffer){"use strict";const{multiByteIndexOf:multiByteIndexOf,stringToBytes:stringToBytes,readUInt64LE:readUInt64LE,tarHeaderChecksumMatches:tarHeaderChecksumMatches,uint8ArrayUtf8ByteString:uint8ArrayUtf8ByteString}=require("./util");const supported=require("./supported");const xpiZipFilename=stringToBytes("META-INF/mozilla.rsa");const oxmlContentTypes=stringToBytes("[Content_Types].xml");const oxmlRels=stringToBytes("_rels/.rels");const fileType=input=>{if(!(input instanceof Uint8Array||input instanceof ArrayBuffer||Buffer.isBuffer(input))){throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof input}\``)}const buffer=input instanceof Uint8Array?input:new Uint8Array(input);if(!(buffer&&buffer.length>1)){return}const check=(header,options)=>{options={offset:0,...options};for(let i=0;i<header.length;i++){if(options.mask){if(header[i]!==(options.mask[i]&buffer[i+options.offset])){return false}}else if(header[i]!==buffer[i+options.offset]){return false}}return true};const checkString=(header,options)=>check(stringToBytes(header),options);if(check([255,216,255])){return{ext:"jpg",mime:"image/jpeg"}}if(check([137,80,78,71,13,10,26,10])){const startIndex=33;const firstImageDataChunkIndex=buffer.findIndex((el,i)=>i>=startIndex&&buffer[i]===73&&buffer[i+1]===68&&buffer[i+2]===65&&buffer[i+3]===84);const sliced=buffer.subarray(startIndex,firstImageDataChunkIndex);if(sliced.findIndex((el,i)=>sliced[i]===97&&sliced[i+1]===99&&sliced[i+2]===84&&sliced[i+3]===76)>=0){return{ext:"apng",mime:"image/apng"}}return{ext:"png",mime:"image/png"}}if(check([71,73,70])){return{ext:"gif",mime:"image/gif"}}if(check([87,69,66,80],{offset:8})){return{ext:"webp",mime:"image/webp"}}if(check([70,76,73,70])){return{ext:"flif",mime:"image/flif"}}if((check([73,73,42,0])||check([77,77,0,42]))&&check([67,82],{offset:8})){return{ext:"cr2",mime:"image/x-canon-cr2"}}if(check([73,73,82,79,8,0,0,0,24])){return{ext:"orf",mime:"image/x-olympus-orf"}}if(check([73,73,42,0])&&(check([16,251,134,1],{offset:4})||check([8,0,0,0,19,0],{offset:4})||check([8,0,0,0,18,0],{offset:4}))){return{ext:"arw",mime:"image/x-sony-arw"}}if(check([73,73,42,0,8,0,0,0])&&(check([45,0,254,0],{offset:8})||check([39,0,254,0],{offset:8}))){return{ext:"dng",mime:"image/x-adobe-dng"}}if(check([73,73,42,0])&&check([28,0,254,0],{offset:8})){return{ext:"nef",mime:"image/x-nikon-nef"}}if(check([73,73,85,0,24,0,0,0,136,231,116,216])){return{ext:"rw2",mime:"image/x-panasonic-rw2"}}if(checkString("FUJIFILMCCD-RAW")){return{ext:"raf",mime:"image/x-fujifilm-raf"}}if(check([73,73,42,0])||check([77,77,0,42])){return{ext:"tif",mime:"image/tiff"}}if(check([66,77])){return{ext:"bmp",mime:"image/bmp"}}if(check([73,73,188])){return{ext:"jxr",mime:"image/vnd.ms-photo"}}if(check([56,66,80,83])){return{ext:"psd",mime:"image/vnd.adobe.photoshop"}}const zipHeader=[80,75,3,4];if(check(zipHeader)){if(check([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30})){return{ext:"epub",mime:"application/epub+zip"}}if(check(xpiZipFilename,{offset:30})){return{ext:"xpi",mime:"application/x-xpinstall"}}if(checkString("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30})){return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"}}if(checkString("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30})){return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"}}if(checkString("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30})){return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}let zipHeaderIndex=0;let oxmlFound=false;let type;do{const offset=zipHeaderIndex+30;if(!oxmlFound){oxmlFound=check(oxmlContentTypes,{offset:offset})||check(oxmlRels,{offset:offset})}if(!type){if(checkString("word/",{offset:offset})){type={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}}else if(checkString("ppt/",{offset:offset})){type={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}}else if(checkString("xl/",{offset:offset})){type={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}}if(oxmlFound&&type){return type}zipHeaderIndex=multiByteIndexOf(buffer,zipHeader,offset)}while(zipHeaderIndex>=0);if(type){return type}}if(check([80,75])&&(buffer[2]===3||buffer[2]===5||buffer[2]===7)&&(buffer[3]===4||buffer[3]===6||buffer[3]===8)){return{ext:"zip",mime:"application/zip"}}if(check([48,48,48,48,48,48],{offset:148,mask:[248,248,248,248,248,248]})&&tarHeaderChecksumMatches(buffer)){return{ext:"tar",mime:"application/x-tar"}}if(check([82,97,114,33,26,7])&&(buffer[6]===0||buffer[6]===1)){return{ext:"rar",mime:"application/x-rar-compressed"}}if(check([31,139,8])){return{ext:"gz",mime:"application/gzip"}}if(check([66,90,104])){return{ext:"bz2",mime:"application/x-bzip2"}}if(check([55,122,188,175,39,28])){return{ext:"7z",mime:"application/x-7z-compressed"}}if(check([120,1])){return{ext:"dmg",mime:"application/x-apple-diskimage"}}if(check([102,114,101,101],{offset:4})||check([109,100,97,116],{offset:4})||check([109,111,111,118],{offset:4})||check([119,105,100,101],{offset:4})){return{ext:"mov",mime:"video/quicktime"}}if(check([102,116,121,112],{offset:4})&&(buffer[8]&96)!==0&&(buffer[9]&96)!==0&&(buffer[10]&96)!==0&&(buffer[11]&96)!==0){const brandMajor=uint8ArrayUtf8ByteString(buffer,8,12);switch(brandMajor){case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt  ":return{ext:"mov",mime:"video/quicktime"};case"M4V ":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P ":return{ext:"m4p",mime:"video/mp4"};case"M4B ":return{ext:"m4b",mime:"audio/mp4"};case"M4A ":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V ":return{ext:"f4v",mime:"video/mp4"};case"F4P ":return{ext:"f4p",mime:"video/mp4"};case"F4A ":return{ext:"f4a",mime:"audio/mp4"};case"F4B ":return{ext:"f4b",mime:"audio/mp4"};default:if(brandMajor.startsWith("3g")){if(brandMajor.startsWith("3g2")){return{ext:"3g2",mime:"video/3gpp2"}}return{ext:"3gp",mime:"video/3gpp"}}return{ext:"mp4",mime:"video/mp4"}}}if(check([77,84,104,100])){return{ext:"mid",mime:"audio/midi"}}if(check([26,69,223,163])){const sliced=buffer.subarray(4,4+4096);const idPos=sliced.findIndex((el,i,arr)=>arr[i]===66&&arr[i+1]===130);if(idPos!==-1){const docTypePos=idPos+3;const findDocType=type=>[...type].every((c,i)=>sliced[docTypePos+i]===c.charCodeAt(0));if(findDocType("matroska")){return{ext:"mkv",mime:"video/x-matroska"}}if(findDocType("webm")){return{ext:"webm",mime:"video/webm"}}}}if(check([82,73,70,70])){if(check([65,86,73],{offset:8})){return{ext:"avi",mime:"video/vnd.avi"}}if(check([87,65,86,69],{offset:8})){return{ext:"wav",mime:"audio/vnd.wave"}}if(check([81,76,67,77],{offset:8})){return{ext:"qcp",mime:"audio/qcelp"}}}if(check([48,38,178,117,142,102,207,17,166,217])){let offset=30;do{const objectSize=readUInt64LE(buffer,offset+16);if(check([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:offset})){if(check([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:offset+24})){return{ext:"wma",mime:"audio/x-ms-wma"}}if(check([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:offset+24})){return{ext:"wmv",mime:"video/x-ms-asf"}}break}offset+=objectSize}while(offset+24<=buffer.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(check([0,0,1,186])||check([0,0,1,179])){return{ext:"mpg",mime:"video/mpeg"}}for(let start=0;start<2&&start<buffer.length-16;start++){if(check([73,68,51],{offset:start})||check([255,226],{offset:start,mask:[255,230]})){return{ext:"mp3",mime:"audio/mpeg"}}if(check([255,228],{offset:start,mask:[255,230]})){return{ext:"mp2",mime:"audio/mpeg"}}if(check([255,248],{offset:start,mask:[255,252]})){return{ext:"mp2",mime:"audio/mpeg"}}if(check([255,240],{offset:start,mask:[255,252]})){return{ext:"mp4",mime:"audio/mpeg"}}}if(check([79,112,117,115,72,101,97,100],{offset:28})){return{ext:"opus",mime:"audio/opus"}}if(check([79,103,103,83])){if(check([128,116,104,101,111,114,97],{offset:28})){return{ext:"ogv",mime:"video/ogg"}}if(check([1,118,105,100,101,111,0],{offset:28})){return{ext:"ogm",mime:"video/ogg"}}if(check([127,70,76,65,67],{offset:28})){return{ext:"oga",mime:"audio/ogg"}}if(check([83,112,101,101,120,32,32],{offset:28})){return{ext:"spx",mime:"audio/ogg"}}if(check([1,118,111,114,98,105,115],{offset:28})){return{ext:"ogg",mime:"audio/ogg"}}return{ext:"ogx",mime:"application/ogg"}}if(check([102,76,97,67])){return{ext:"flac",mime:"audio/x-flac"}}if(check([77,65,67,32])){return{ext:"ape",mime:"audio/ape"}}if(check([119,118,112,107])){return{ext:"wv",mime:"audio/wavpack"}}if(check([35,33,65,77,82,10])){return{ext:"amr",mime:"audio/amr"}}if(check([37,80,68,70])){return{ext:"pdf",mime:"application/pdf"}}if(check([77,90])){return{ext:"exe",mime:"application/x-msdownload"}}if((buffer[0]===67||buffer[0]===70)&&check([87,83],{offset:1})){return{ext:"swf",mime:"application/x-shockwave-flash"}}if(check([123,92,114,116,102])){return{ext:"rtf",mime:"application/rtf"}}if(check([0,97,115,109])){return{ext:"wasm",mime:"application/wasm"}}if(check([119,79,70,70])&&(check([0,1,0,0],{offset:4})||check([79,84,84,79],{offset:4}))){return{ext:"woff",mime:"font/woff"}}if(check([119,79,70,50])&&(check([0,1,0,0],{offset:4})||check([79,84,84,79],{offset:4}))){return{ext:"woff2",mime:"font/woff2"}}if(check([76,80],{offset:34})&&(check([0,0,1],{offset:8})||check([1,0,2],{offset:8})||check([2,0,2],{offset:8}))){return{ext:"eot",mime:"application/vnd.ms-fontobject"}}if(check([0,1,0,0,0])){return{ext:"ttf",mime:"font/ttf"}}if(check([79,84,84,79,0])){return{ext:"otf",mime:"font/otf"}}if(check([0,0,1,0])){return{ext:"ico",mime:"image/x-icon"}}if(check([0,0,2,0])){return{ext:"cur",mime:"image/x-icon"}}if(check([70,76,86,1])){return{ext:"flv",mime:"video/x-flv"}}if(check([37,33])){return{ext:"ps",mime:"application/postscript"}}if(check([253,55,122,88,90,0])){return{ext:"xz",mime:"application/x-xz"}}if(check([83,81,76,105])){return{ext:"sqlite",mime:"application/x-sqlite3"}}if(check([78,69,83,26])){return{ext:"nes",mime:"application/x-nintendo-nes-rom"}}if(check([67,114,50,52])){return{ext:"crx",mime:"application/x-google-chrome-extension"}}if(check([77,83,67,70])||check([73,83,99,40])){return{ext:"cab",mime:"application/vnd.ms-cab-compressed"}}if(check([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121])){return{ext:"deb",mime:"application/x-deb"}}if(check([33,60,97,114,99,104,62])){return{ext:"ar",mime:"application/x-unix-archive"}}if(check([237,171,238,219])){return{ext:"rpm",mime:"application/x-rpm"}}if(check([31,160])||check([31,157])){return{ext:"Z",mime:"application/x-compress"}}if(check([76,90,73,80])){return{ext:"lz",mime:"application/x-lzip"}}if(check([208,207,17,224,161,177,26,225,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,62])){return{ext:"msi",mime:"application/x-msi"}}if(check([6,14,43,52,2,5,1,1,13,1,2,1,1,2])){return{ext:"mxf",mime:"application/mxf"}}if(check([71],{offset:4})&&(check([71],{offset:192})||check([71],{offset:196}))){return{ext:"mts",mime:"video/mp2t"}}if(check([66,76,69,78,68,69,82])){return{ext:"blend",mime:"application/x-blender"}}if(check([66,80,71,251])){return{ext:"bpg",mime:"image/bpg"}}if(check([0,0,0,12,106,80,32,32,13,10,135,10])){if(check([106,112,50,32],{offset:20})){return{ext:"jp2",mime:"image/jp2"}}if(check([106,112,120,32],{offset:20})){return{ext:"jpx",mime:"image/jpx"}}if(check([106,112,109,32],{offset:20})){return{ext:"jpm",mime:"image/jpm"}}if(check([109,106,112,50],{offset:20})){return{ext:"mj2",mime:"image/mj2"}}}if(check([70,79,82,77])){return{ext:"aif",mime:"audio/aiff"}}if(checkString("<?xml ")){return{ext:"xml",mime:"application/xml"}}if(check([66,79,79,75,77,79,66,73],{offset:60})){return{ext:"mobi",mime:"application/x-mobipocket-ebook"}}if(check([171,75,84,88,32,49,49,187,13,10,26,10])){return{ext:"ktx",mime:"image/ktx"}}if(check([68,73,67,77],{offset:128})){return{ext:"dcm",mime:"application/dicom"}}if(check([77,80,43])){return{ext:"mpc",mime:"audio/x-musepack"}}if(check([77,80,67,75])){return{ext:"mpc",mime:"audio/x-musepack"}}if(check([66,69,71,73,78,58])){return{ext:"ics",mime:"text/calendar"}}if(check([103,108,84,70,2,0,0,0])){return{ext:"glb",mime:"model/gltf-binary"}}if(check([212,195,178,161])||check([161,178,195,212])){return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}}if(check([68,83,68,32])){return{ext:"dsf",mime:"audio/x-dsf"}}if(check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70])){return{ext:"lnk",mime:"application/x.ms.shortcut"}}if(check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0])){return{ext:"alias",mime:"application/x.apple.alias"}}if(checkString("Creative Voice File")){return{ext:"voc",mime:"audio/x-voc"}}if(check([11,119])){return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"}}if((check([126,16,4])||check([126,24,4]))&&check([48,77,73,69],{offset:4})){return{ext:"mie",mime:"application/x-mie"}}};module.exports=fileType;Object.defineProperty(fileType,"minimumBytes",{value:4100});fileType.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject);readableStream.once("readable",()=>{const pass=new stream.PassThrough;const chunk=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{pass.fileType=fileType(chunk)}catch(error){reject(error)}readableStream.unshift(chunk);if(stream.pipeline){resolve(stream.pipeline(readableStream,pass,()=>{}))}else{resolve(readableStream.pipe(pass))}})});Object.defineProperty(fileType,"extensions",{get(){return new Set(supported.extensions)}});Object.defineProperty(fileType,"mimeTypes",{get(){return new Set(supported.mimeTypes)}})}).call(this,{isBuffer:require("../is-buffer/index.js")})},{"../is-buffer/index.js":76,"./supported":73,"./util":74}],73:[function(require,module,exports){"use strict";module.exports={extensions:["jpg","png","apng","gif","webp","flif","cr2","orf","arw","dng","nef","rw2","raf","tif","bmp","jxr","psd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","msi","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","wmv","wma","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-canon-cr2","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-wma","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-msi","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/ktx","application/dicom","audio/x-musepack","text/calendar","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2"]}},{}],74:[function(require,module,exports){(function(Buffer){"use strict";exports.stringToBytes=string=>[...string].map(character=>character.charCodeAt(0));const uint8ArrayUtf8ByteString=(array,start,end)=>{return String.fromCharCode(...array.slice(start,end))};exports.readUInt64LE=(buffer,offset=0)=>{let n=buffer[offset];let mul=1;let i=0;while(++i<8){mul*=256;n+=buffer[offset+i]*mul}return n};exports.tarHeaderChecksumMatches=buffer=>{if(buffer.length<512){return false}const MASK_8TH_BIT=128;let sum=256;let signedBitSum=0;for(let i=0;i<148;i++){const byte=buffer[i];sum+=byte;signedBitSum+=byte&MASK_8TH_BIT}for(let i=156;i<512;i++){const byte=buffer[i];sum+=byte;signedBitSum+=byte&MASK_8TH_BIT}const readSum=parseInt(uint8ArrayUtf8ByteString(buffer,148,154),8);return readSum===sum||readSum===sum-(signedBitSum<<1)};exports.multiByteIndexOf=(buffer,bytesToSearch,startAt=0)=>{if(Buffer&&Buffer.isBuffer(buffer)){return buffer.indexOf(Buffer.from(bytesToSearch),startAt)}const nextBytesMatch=(buffer,bytes,startIndex)=>{for(let i=1;i<bytes.length;i++){if(bytes[i]!==buffer[startIndex+i]){return false}}return true};let index=buffer.indexOf(bytesToSearch[0],startAt);while(index>=0){if(nextBytesMatch(buffer,bytesToSearch,index)){return index}index=buffer.indexOf(bytesToSearch[0],index+1)}return-1};exports.uint8ArrayUtf8ByteString=uint8ArrayUtf8ByteString}).call(this,require("buffer").Buffer)},{buffer:70}],75:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}},{}],76:[function(require,module,exports){module.exports=function(obj){return obj!=null&&(isBuffer(obj)||isSlowBuffer(obj)||!!obj._isBuffer)};function isBuffer(obj){return!!obj.constructor&&typeof obj.constructor.isBuffer==="function"&&obj.constructor.isBuffer(obj)}function isSlowBuffer(obj){return typeof obj.readFloatLE==="function"&&typeof obj.slice==="function"&&isBuffer(obj.slice(0,0))}},{}],77:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function array(n,sample){var a=[];for(var i=0;i<n;i++){a.push(typeof sample==="undefined"?i:sample)}return a}exports.array=array;function asArray(selectors){return Array.isArray(selectors)?selectors:[selectors]}exports.asArray=asArray;function seq(start,step,max){if(start===void 0){start=0}if(step===void 0){step=1}if(max===void 0){max=0}var result=[];for(var i=start;i<max;i+=step){result.push(i)}return result}exports.seq=seq},{}],78:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function enumKeys(anEnum){var a=[];for(var i in anEnum){a.push(i)}return a}exports.enumKeys=enumKeys;function enumNoValueKeys(anEnum){return Object.keys(anEnum).map((function(i){return anEnum[i]})).filter((function(s,i,a){return typeof s==="string"&&a.indexOf(s)===i}))}exports.enumNoValueKeys=enumNoValueKeys},{}],79:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function dedup(a,p){return a.filter((function(n,i,a){return i===a.findIndex((function(x){return p(n,x)}))}))}exports.dedup=dedup;function notSame(t,i,a){return a.indexOf(t)===i}exports.notSame=notSame;function notSameNotFalsy(t,i,a){return a.indexOf(t)===i}exports.notSameNotFalsy=notSameNotFalsy},{}],80:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function flatDeep(arr1){return arr1.reduce((function(acc,val){return Array.isArray(val)?acc.concat(flatDeep(val)):acc.concat(val)}),[])}exports.flatDeep=flatDeep;function flat(arr){return arr.reduce((function(a,b){return a.concat(b)}))}exports.flat=flat;function flatReadOnly(arr){return arr&&arr.length?arr.reduce((function(a,b){return a.concat(b)})):[]}exports.flatReadOnly=flatReadOnly},{}],81:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./create"));__export(require("./enumKeys"));__export(require("./filter"));__export(require("./flat"));__export(require("./prototypeFind"));__export(require("./set"))},{"./create":77,"./enumKeys":78,"./filter":79,"./flat":80,"./prototypeFind":82,"./set":83}],82:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function arrayPrototypeFind(a,predicate,thisArg){for(var i=0;i<a.length;i++){var v=a[i];if(predicate.apply(thisArg,[v,i,a])){return v}}}exports.arrayPrototypeFind=arrayPrototypeFind;function installArrayPrototypeFind(force){if(force===void 0){force=false}Array.prototype.find=typeof Array.prototype.find==="undefined"||force?function(predicate,thisArg){return arrayPrototypeFind(this,predicate,thisArg)}:Array.prototype.find}exports.installArrayPrototypeFind=installArrayPrototypeFind},{}],83:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var filter_1=require("./filter");function unionEquals(a,b,predicate,output){if(predicate===void 0){predicate=function(a,b){return a===b}}var r=filter_1.dedup(a.concat(b),predicate);output&&output.push.apply(output,filter_1.dedup(r.concat(output),predicate));return r}exports.unionEquals=unionEquals;exports.arrayUnion=unionEquals;function arrayInterception(a,b,predicate,output){if(predicate===void 0){predicate=function(a,b){return a===b}}var r=a.filter((function(a){return b.find((function(b){return predicate(a,b)}))}));r=filter_1.dedup(r,predicate);output&&output.push.apply(output,filter_1.dedup(r.concat(output),predicate));return r}exports.arrayInterception=arrayInterception;function arrayDifference(a,b,predicate,output){if(predicate===void 0){predicate=function(a,b){return a===b}}var r=a.filter((function(a){return!b.find((function(b){return predicate(a,b)}))})).concat(b.filter((function(b){return!a.find((function(a){return predicate(b,a)}))})));r=filter_1.dedup(r,predicate);output&&output.push.apply(output,filter_1.dedup(r.concat(output),predicate));return r}exports.arrayDifference=arrayDifference},{"./filter":79}],84:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function rgb2Hex(s){return s.match(/[0-9]+/g).reduce((function(a,b){return a+(b|256).toString(16).slice(1)}),"#").toString(16)}exports.rgb2Hex=rgb2Hex},{}],85:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var array_1=require("./array");function compareTexts(actual,expected,options){return compareWithMultiplicity(actual,expected,options,compareText)}exports.compareTexts=compareTexts;function compareText(actual,expected,options){if(actual===expected){return options.negate?negate(true):true}actual=buildText(actual,options);expected=buildText(expected,options);if(!options.verb||options.verb==="contains"){return options.negate?negate(actual.includes(expected)):actual.includes(expected)}else if(options.verb==="equals"){return options.negate?negate(actual===expected):actual===expected}else if(options.verb==="contained"){return options.negate?negate(expected.includes(actual)):expected.includes(actual)}else if(options.verb==="endsWith"){return options.negate?negate(actual.endsWith(expected)):actual.endsWith(expected)}else if(options.verb==="startsWith"){return options.negate?negate(actual.startsWith(expected)):actual.startsWith(expected)}else{return options.negate?negate(false):false}}exports.compareText=compareText;function compareWithMultiplicity(_actual,_expected,options,predicate){var actual=array_1.asArray(_actual);var expected=array_1.asArray(_expected);if(actual===expected){return options.negate?negate(true):true}if(!options.multiplicity||options.multiplicity==="anyOf"){var r=!!actual.find((function(a){return!!expected.find((function(e){return predicate(a,e,options)}))}));return options.negate?negate(r):r}else if(options.multiplicity==="allOf"){var r=!actual.find((function(a){return!expected.find((function(e){return predicate(a,e,options)}))}));return options.negate?negate(r):r}else{return options.negate?negate(false):false}}function negate(b){return!b}function buildText(text,options){if(options.caseInsensitive){text=text.toLowerCase()}if(options.asCode){text=text.replace(/\s+/g," ").trim()}return text}},{"./array":81}],86:[function(require,module,exports){(function(process,global){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function isNode(){return typeof process!=="undefined"&&typeof global!=="undefined"&&typeof process.exit==="function"&&typeof module!=="undefined"&&typeof require==="function"&&typeof require("f"+"s")!=="undefined"&&typeof require("f"+"s").writeFileSync==="function"&&typeof require("child_"+"pro"+"cess")!=="undefined"&&typeof require("child_"+"pro"+"cess").execSync==="function"}exports.isNode=isNode;function isJSDOM(){return isNode()&&exports.isDOM()}exports.isJSDOM=isJSDOM;exports.inNode=isNode;function inBrowser(){return typeof window!=="undefined"&&typeof document!=="undefined"&&typeof Node!=="undefined"&&document.nodeType===Node.DOCUMENT_NODE}exports.inBrowser=inBrowser;exports.isBrowser=inBrowser;exports.inDOM=inBrowser;exports.isDOM=inBrowser;function isWebWorker(){return!exports.isDOM()&&!isNode()&&typeof self!=="undefined"&&typeof self.onmessage!=="undefined"}exports.isWebWorker=isWebWorker;var _this=this;function getGlobal(){return isWebWorker()?self:isNode()?global:exports.isBrowser()?window:_this}exports.getGlobal=getGlobal}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:121}],87:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Emitter=function(){function Emitter(){this.l=[]}Emitter.prototype.add=function(l){this.l.push(l)};Emitter.prototype.emit=function(e){this.l.forEach((function(l){return l(e)}))};Emitter.prototype.remove=function(l){this.l=this.l.filter((function(a){return a===l}))};return Emitter}();exports.Emitter=Emitter},{}],88:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function checkThrow(r,msg){if(msg===void 0){msg="Throwing on undefined value"}if(!r){throw new Error(msg)}return r}exports.checkThrow=checkThrow;function checkTruthy(r,msg){if(msg===void 0){msg="Throwing on undefined value"}if(!r){throw new Error(msg)}return true}exports.checkTruthy=checkTruthy;function tryTo(f,def){try{return f()}catch(error){return def}}exports.tryTo=tryTo},{}],89:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function bytesToKiloBytes(fileSizeInBytes){return fileSizeInBytes/1e3}exports.bytesToKiloBytes=bytesToKiloBytes;function withoutExtension(f){var i=slash(f).lastIndexOf(".");return i===-1?f:f.substring(0,i)}exports.withoutExtension=withoutExtension;function basename(f,removeExtension){if(removeExtension===void 0){removeExtension=false}var i=slash(f).lastIndexOf("/");var s=i===-1?f:f.substring(i+1,f.length);return removeExtension?withoutExtension(s):s}exports.basename=basename;function getFileExtension(s){var i=s.lastIndexOf(".");if(i==-1||i===s.length-1){return""}return s.substring(i+1,s.length)}exports.getFileExtension=getFileExtension;function dirname(path){var i=slash(path).lastIndexOf("/");return i===-1?"":path.substring(0,i)}exports.dirname=dirname;function getRelativePath(source,target){source=slash(source);target=slash(target);var sep="/",targetArr=target.split(sep),sourceArr=source.split(sep),filename=targetArr.pop(),targetPath=targetArr.join(sep);if(targetArr.length<2&&sourceArr.length<2){return target}var relativePath="";while(targetPath.indexOf(sourceArr.join(sep))===-1){sourceArr.pop();relativePath+=".."+sep}var relPathArr=targetArr.slice(sourceArr.length);relPathArr.length&&(relativePath+=relPathArr.join(sep)+sep);return relativePath+filename}exports.getRelativePath=getRelativePath;function pathJoin(){var parts=[];for(var _i=0;_i<arguments.length;_i++){parts[_i]=arguments[_i]}var separator="/";var replace=new RegExp(separator+"{1,}","g");return parts.filter(Boolean).map(slash).join(separator).replace(replace,separator)}exports.pathJoin=pathJoin;function parseGitIgnore(content,options){if(options===void 0){options={cwd:".",fileName:".gitignore"}}var mapGitIgnorePatternTo=function(base){return function(ignore){if(ignore.startsWith("!")){return"!"+pathJoin(base,ignore.slice(1))}return pathJoin(base,ignore)}};var base=getRelativePath(options.cwd,dirname(options.fileName));return content.split(/\r?\n/).filter(Boolean).filter((function(line){return line.charAt(0)!=="#"})).map(mapGitIgnorePatternTo(base))}exports.parseGitIgnore=parseGitIgnore;function slash(path){var isExtendedLengthPath=/^\\\\\?\\/.test(path);var hasNonAscii=/[^\u0000-\u0080]+/.test(path);if(isExtendedLengthPath||hasNonAscii){return path}return path.replace(/\\/g,"/")}exports.slash=slash;function detectNewline(s,def){if(def===void 0){def="\n"}var newlines=s.match(/(?:\r?\n)/g)||[];if(newlines.length===0){return def}var crlf=newlines.filter((function(newline){return newline==="\r\n"})).length;var lf=newlines.length-crlf;return crlf>lf?"\r\n":"\n"}exports.detectNewline=detectNewline},{}],90:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function isGenerator(obj){return obj&&typeof obj.next==="function"&&typeof obj.throw==="function"}exports.isGenerator=isGenerator;function isGeneratorFunction(fn){return typeof fn==="function"&&fn.constructor&&fn.constructor.name==="GeneratorFunction"}exports.isGeneratorFunction=isGeneratorFunction;function isClassConstructorFunction(a){return a&&a.prototype&&a.prototype.constructor&&a.prototype.constructor.toString().startsWith("class")}exports.isClassConstructorFunction=isClassConstructorFunction},{}],91:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Point=function(){function Point(x,y){this.x=x;this.y=y;this.set(x,y)}Point.prototype.clone=function(){return new Point(this.x,this.y)};Point.prototype.set=function(x,y){this.x=x;this.y=y;return this};Point.prototype.equals=function(x,y){return this.x==x&&this.y==y};Point.prototype.toString=function(){return"("+this.x+","+this.y+")"};Point.prototype.map=function(f){this.x=f(this.x);this.y=f(this.y);return this};Point.prototype.add=function(x,y){this.x+=x;this.y+=y;return this};Point.prototype.subtract=function(x,y){this.x-=x;this.y-=y;return this};Point.prototype.scale=function(s){this.x*=s;this.y*=s;return this};Point.prototype.isZero=function(){return this.x===0&&this.y==0};return Point}();exports.Point=Point;var Rect=function(){function Rect(left,top,right,bottom){this.left=left;this.top=top;this.right=right;this.bottom=bottom}Object.defineProperty(Rect.prototype,"x",{get:function(){return this.left},set:function(v){var diff=this.left-v;this.left=v;this.right-=diff},enumerable:true,configurable:true});Object.defineProperty(Rect.prototype,"y",{get:function(){return this.top},set:function(v){var diff=this.top-v;this.top=v;this.bottom-=diff},enumerable:true,configurable:true});Object.defineProperty(Rect.prototype,"width",{get:function(){return this.right-this.left},set:function(v){this.right=this.left+v},enumerable:true,configurable:true});Object.defineProperty(Rect.prototype,"height",{get:function(){return this.bottom-this.top},set:function(v){this.bottom=this.top+v},enumerable:true,configurable:true});Rect.prototype.isEmpty=function(){return this.left>=this.right||this.top>=this.bottom};Rect.prototype.setRect=function(x,y,w,h){this.left=x;this.top=y;this.right=x+w;this.bottom=y+h;return this};Rect.prototype.setBounds=function(l,t,r,b){this.top=t;this.left=l;this.bottom=b;this.right=r;return this};Rect.prototype.equals=function(other){return other&&(this.isEmpty()&&other.isEmpty()||this.top==other.top&&this.left==other.left&&this.bottom==other.bottom&&this.right==other.right)};Rect.prototype.clone=function(){return new Rect(this.left,this.top,this.right-this.left,this.bottom-this.top)};Rect.prototype.center=function(){if(this.isEmpty()){throw new Error("Empty rectangles do not have centers")}return new Point(this.left+(this.right-this.left)/2,this.top+(this.bottom-this.top)/2)};Rect.prototype.copyFrom=function(other){this.top=other.top;this.left=other.left;this.bottom=other.bottom;this.right=other.right;return this};Rect.prototype.translate=function(x,y){this.left+=x;this.right+=x;this.top+=y;this.bottom+=y;return this};Rect.prototype.toString=function(){return"["+this.x+","+this.y+","+this.width+","+this.height+"]"};Rect.prototype.union=function(other){return this.clone().expandToContain(other)};Rect.prototype.contains=function(other){if(other.isEmpty())return true;if(this.isEmpty())return false;return other.left>=this.left&&other.right<=this.right&&other.top>=this.top&&other.bottom<=this.bottom};Rect.prototype.intersect=function(other){return this.clone().restrictTo(other)};Rect.prototype.intersects=function(other){if(this.isEmpty()||other.isEmpty()){return false}var x1=Math.max(this.left,other.left);var x2=Math.min(this.right,other.right);var y1=Math.max(this.top,other.top);var y2=Math.min(this.bottom,other.bottom);return x1<x2&&y1<y2};Rect.prototype.restrictTo=function(other){if(this.isEmpty()||other.isEmpty()){return this.setRect(0,0,0,0)}var x1=Math.max(this.left,other.left);var x2=Math.min(this.right,other.right);var y1=Math.max(this.top,other.top);var y2=Math.min(this.bottom,other.bottom);return this.setRect(x1,y1,Math.max(0,x2-x1),Math.max(0,y2-y1))};Rect.prototype.expandToContain=function(other){if(this.isEmpty()){return this.copyFrom(other)}if(other.isEmpty()){return this}var l=Math.min(this.left,other.left);var r=Math.max(this.right,other.right);var t=Math.min(this.top,other.top);var b=Math.max(this.bottom,other.bottom);return this.setRect(l,t,r-l,b-t)};Rect.prototype.round=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);return this};Rect.prototype.scale=function(xscl,yscl){this.left*=xscl;this.right*=xscl;this.top*=yscl;this.bottom*=yscl;return this};Rect.prototype.map=function(f){this.left=f(this.left);this.top=f(this.top);this.right=f(this.right);this.bottom=f(this.bottom);return this};Rect.prototype.translateInside=function(other){var offsetX=0;if(this.left<=other.left){offsetX=other.left-this.left}else if(this.right>other.right){offsetX=other.right-this.right}var offsetY=0;if(this.top<=other.top){offsetY=other.top-this.top}else if(this.bottom>other.bottom){offsetY=other.bottom-this.bottom}return this.translate(offsetX,offsetY)};Rect.prototype.subtract=function(other){var r=new Rect(0,0,0,0);var result=[];other=other.intersect(this);if(other.isEmpty()){return[this.clone()]}r.setBounds(this.left,this.top,other.left,this.bottom);if(!r.isEmpty()){result.push(r.clone())}r.setBounds(other.left,this.top,other.right,other.top);if(!r.isEmpty()){result.push(r.clone())}r.setBounds(other.left,other.bottom,other.right,this.bottom);if(!r.isEmpty()){result.push(r.clone())}r.setBounds(other.right,this.top,this.right,this.bottom);if(!r.isEmpty()){result.push(r.clone())}return result};Rect.prototype.blend=function(rect,scalar){return new Rect(this.left+(rect.left-this.left)*scalar,this.top+(rect.top-this.top)*scalar,this.width+(rect.width-this.width)*scalar,this.height+(rect.height-this.height)*scalar)};Rect.prototype.inflate=function(xscl,yscl){var xAdj=(this.width*xscl-this.width)/2;var s=arguments.length>1?yscl:xscl;var yAdj=(this.height*s-this.height)/2;this.left-=xAdj;this.right+=xAdj;this.top-=yAdj;this.bottom+=yAdj;return this};Rect.prototype.inflateFixed=function(fixed){this.left-=fixed;this.right+=fixed;this.top-=fixed;this.bottom+=fixed;return this};return Rect}();exports.Rect=Rect},{}],92:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./array"));__export(require("./color"));__export(require("./compareText"));__export(require("./environment"));__export(require("./event"));__export(require("./exceptions"));__export(require("./file"));__export(require("./function"));__export(require("./geometry"));__export(require("./json"));__export(require("./merge"));__export(require("./mime"));__export(require("./number"));__export(require("./object"));__export(require("./promise"));__export(require("./string"));__export(require("./time"));__export(require("./tree"));__export(require("./type"));__export(require("./url"))},{"./array":81,"./color":84,"./compareText":85,"./environment":86,"./event":87,"./exceptions":88,"./file":89,"./function":90,"./geometry":91,"./json":93,"./merge":94,"./mime":95,"./number":96,"./object":97,"./promise":98,"./string":106,"./time":111,"./tree":116,"./type":117,"./url":118}],93:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var object_1=require("./object");var type_1=require("./type");function parseJSON(s,defaultValue){if(defaultValue===void 0){defaultValue=undefined}try{return JSON.parse(s)}catch(error){return defaultValue}}exports.parseJSON=parseJSON;function stringifyJSON(s,defaultValue){if(defaultValue===void 0){defaultValue=undefined}try{return JSON.stringify(s)}catch(error){return defaultValue}}exports.stringifyJSON=stringifyJSON;function cloneJSON(a){return JSON.parse(JSON.stringify(a))}exports.cloneJSON=cloneJSON;function visitJson(o,v,_name){if(type_1.isArray(o)&&o){return v(o,_name)||o.some((function(va,i){return visitJson(va,v,i)}))}else if(typeof o==="object"&&o){return v(o,_name)||object_1.objectToArray(o).some((function(o){return visitJson(o.value,v,o.key)}))}else{return v(o,_name)}}exports.visitJson=visitJson;function findJson(o,p,_name){var r=undefined;visitJson(o,(function(value,key){if(p(value,key)){r={value:value,key:key};return true}return false}));return r}exports.findJson=findJson;function isJSONObject(o){return typeof o==="object"&&!Array.isArray(o)}exports.isJSONObject=isJSONObject},{"./object":97,"./type":117}],94:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var type_1=require("./type");function recursive(clone){return merge(clone===true,true,arguments)}exports.recursive=recursive;function clone(input){var output=input,type=type_1.typeOf(input),index,size;if(type==="array"){output=[];size=input.length;for(index=0;index<size;++index)output[index]=clone(input[index])}else if(type==="object"){output={};for(index in input)output[index]=clone(input[index])}return output}exports.clone=clone;function mergeRecursive(base,extend){if(type_1.typeOf(base)!=="object")return extend;for(var key in extend){if(type_1.typeOf(base[key])==="object"&&type_1.typeOf(extend[key])==="object"){base[key]=mergeRecursive(base[key],extend[key])}else{base[key]=extend[key]}}return base}exports.mergeRecursive=mergeRecursive;function merge(clone_,recursive){var argv=[];for(var _i=2;_i<arguments.length;_i++){argv[_i-2]=arguments[_i]}var result=argv[0],size=argv.length;if(clone_||type_1.typeOf(result)!=="object")result={};for(var index=0;index<size;++index){var item=argv[index],type=type_1.typeOf(item);if(type!=="object")continue;for(var key in item){if(key==="__proto__")continue;var sitem=clone_?clone(item[key]):item[key];if(recursive){result[key]=mergeRecursive(result[key],sitem)}else{result[key]=sitem}}}return result}exports.merge=merge},{"./type":117}],95:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function getMimeTypeForExtension(extension){return Object.keys(commonExtensionMimeTypeMap).find((function(a){return commonExtensionMimeTypeMap[a].extensions.includes(extension)}))}exports.getMimeTypeForExtension=getMimeTypeForExtension;function getExtensionsForMimeType(mimeType){var found=Object.keys(commonExtensionMimeTypeMap).find((function(a){return a===mimeType}));return found&&commonExtensionMimeTypeMap[found].extensions}exports.getExtensionsForMimeType=getExtensionsForMimeType;var commonExtensionMimeTypeMap={"application/atom+xml":{extensions:["atom"]},"application/java-archive":{extensions:["jar","war","ear"]},"application/javascript":{extensions:["js"]},"application/json":{extensions:["json"]},"application/mac-binhex40":{extensions:["hqx"]},"application/msword":{extensions:["doc"]},"application/octet-stream":{extensions:["bin","exe","dll","deb","dmg","iso","img","msi","msp","msm"]},"application/pdf":{extensions:["pdf"]},"application/postscript":{extensions:["ps","eps","ai"]},"application/rss+xml":{extensions:["rss"]},"application/rtf":{extensions:["rtf"]},"application/vnd.apple.mpegurl":{extensions:["m3u8"]},"application/vnd.google-earth.kml+xml":{extensions:["kml"]},"application/vnd.google-earth.kmz":{extensions:["kmz"]},"application/vnd.ms-excel":{extensions:["xls"]},"application/vnd.ms-fontobject":{extensions:["eot"]},"application/vnd.ms-powerpoint":{extensions:["ppt"]},"application/vnd.oasis.opendocument.graphics":{extensions:["odg"]},"application/vnd.oasis.opendocument.presentation":{extensions:["odp"]},"application/vnd.oasis.opendocument.spreadsheet":{extensions:["ods"]},"application/vnd.oasis.opendocument.text":{extensions:["odt"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{extensions:["docx"]},"application/vnd.wap.wmlc":{extensions:["wmlc"]},"application/x-7z-compressed":{extensions:["7z"]},"application/x-cocoa":{extensions:["cco"]},"application/x-java-archive-diff":{extensions:["jardiff"]},"application/x-java-jnlp-file":{extensions:["jnlp"]},"application/x-makeself":{extensions:["run"]},"application/x-perl":{extensions:["pl","pm"]},"application/x-pilot":{extensions:["prc","pdb"]},"application/x-rar-compressed":{extensions:["rar"]},"application/x-redhat-package-manager":{extensions:["rpm"]},"application/x-sea":{extensions:["sea"]},"application/x-shockwave-flash":{extensions:["swf"]},"application/x-stuffit":{extensions:["sit"]},"application/x-tcl":{extensions:["tcl","tk"]},"application/x-x509-ca-cert":{extensions:["der","pem","crt"]},"application/x-xpinstall":{extensions:["xpi"]},"application/xhtml+xml":{extensions:["xhtml"]},"application/xspf+xml":{extensions:["xspf"]},"application/zip":{extensions:["zip"]},"audio/midi":{extensions:["mid","midi","kar"]},"audio/mpeg":{extensions:["mp3"]},"audio/ogg":{extensions:["ogg"]},"audio/x-m4a":{extensions:["m4a"]},"audio/x-realaudio":{extensions:["ra"]},"font/woff":{extensions:["woff"]},"font/woff2":{extensions:["woff2"]},"image/gif":{extensions:["gif"]},"image/jpeg":{extensions:["jpeg","jpg"]},"image/png":{extensions:["png"]},"image/svg+xml":{extensions:["svg","svgz"]},"image/tiff":{extensions:["tif","tiff"]},"image/vnd.wap.wbmp":{extensions:["wbmp"]},"image/webp":{extensions:["webp"]},"image/x-icon":{extensions:["ico"]},"image/x-jng":{extensions:["jng"]},"image/x-ms-bmp":{extensions:["bmp"]},"text/css":{extensions:["css"]},"text/html":{extensions:["html","htm","shtml"]},"text/mathml":{extensions:["mml"]},"text/plain":{extensions:["txt"]},"text/vnd.sun.j2me.app-descriptor":{extensions:["jad"]},"text/vnd.wap.wml":{extensions:["wml"]},"text/x-component":{extensions:["htc"]},"text/xml":{extensions:["xml"]},"video/3gpp":{extensions:["3gpp","3gp"]},"video/mp2t":{extensions:["ts"]},"video/mp4":{extensions:["mp4"]},"video/mpeg":{extensions:["mpeg","mpg"]},"video/quicktime":{extensions:["mov"]},"video/webm":{extensions:["webm"]},"video/x-flv":{extensions:["flv"]},"video/x-m4v":{extensions:["m4v"]},"video/x-mng":{extensions:["mng"]},"video/x-ms-asf":{extensions:["asx","asf"]},"video/x-ms-wmv":{extensions:["wmv"]},"video/x-msvideo":{extensions:["avi"]}}},{}],96:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var array_1=require("./array");var _unique=0;function unique(prefix){if(prefix===void 0){prefix="_"}return prefix+_unique++}exports.unique=unique;function randomIntBetween(a,b){return Math.floor(Math.random()*b)+a}exports.randomIntBetween=randomIntBetween;function randomIntsBetween(l,min,max){return array_1.array(l).map((function(n){return randomFloatBetween(min,max)}))}exports.randomIntsBetween=randomIntsBetween;exports.ints=randomIntsBetween;exports.int=randomIntBetween;function randomFloatBetween(a,b){return Math.random()*b+a}exports.randomFloatBetween=randomFloatBetween;function randomFloatsBetween(l,min,max){return array_1.array(l).map((function(n){return randomFloatBetween(min,max)}))}exports.randomFloatsBetween=randomFloatsBetween;exports.floats=randomFloatsBetween;exports.float=randomFloatBetween;function between(n,min,max){return Math.max(min,Math.min(n,max))}exports.between=between;function intBetween(n,min,max){return Math.trunc(Math.max(min,Math.min(n,max)))}exports.intBetween=intBetween},{"./array":81}],97:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var type_1=require("./type");function objectKeys(o){return Object.keys(o)}exports.objectKeys=objectKeys;function objectMapValues(o,p){var r={};objectKeys(o).forEach((function(k){r[k]=p(k,o[k])}));return r}exports.objectMapValues=objectMapValues;exports.objectMap=objectMapValues;function objectToArray(o){return objectKeys(o).map((function(key){return{key:key,value:o[key]}}))}exports.objectToArray=objectToArray;function objectFilter(o,p){var r={};objectKeys(o).filter((function(k,v){return p(k,o[k])})).forEach((function(k){r[k]=o[k]}));return r}exports.objectFilter=objectFilter;function arrayToObject(a,fn){var o={};a.filter(type_1.notUndefined).forEach((function(k){o[k]=fn(k)}));return o}exports.arrayToObject=arrayToObject;function getObjectProperty(object,path,defaultValue){if(defaultValue===void 0){defaultValue=undefined}if(!path){return object}else if(object){var tokens=typeof path==="string"?path.split("."):path,prev=object,n=0;while(typeof prev!=="undefined"&&n<tokens.length){prev=prev[tokens[n++]]}if(typeof prev!=="undefined"){return prev}}return defaultValue}exports.getObjectProperty=getObjectProperty;function setObjectProperty(object,path,value){if(!path||!object){throw new Error("Insufficient arguments")}var tokens=typeof path==="string"?path.split("."):path,prev=object;if(tokens.length===0){Object.assign(object,value);return object}for(var i=0;i<tokens.length-1;++i){var currentToken=tokens[i];if(typeof prev[currentToken]==="undefined"){prev[currentToken]=typeof tokens[i+1]==="number"?[]:{}}else{if(typeof tokens[i+1]==="number"&&!Array.isArray(prev[currentToken])){throw new Error("Detected number path item on non array value. Path: "+path+", item: "+tokens[i+1]+", Value: "+prev[currentToken])}}prev=prev[currentToken]}if(tokens.length){prev[tokens[tokens.length-1]]=value}return object}exports.setObjectProperty=setObjectProperty;function getObjectPropertyPaths(object,options){if(options===void 0){options={ignoreArrayElements:true,leafsOnly:false}}function visit(object,p,p2){if(p===void 0){p=[]}if(p2===void 0){p2=[]}var objectIsArray=type_1.isArray(object);if(options.ignoreArrayElements&&objectIsArray){return}for(var i in object){var v=object[i];var objectName=objectIsArray?parseInt(i):i+"";var p3=p2.concat([objectName]);if(type_1.isObject(v)||type_1.isArray(v)){visit(v,p,p3)}p.push(p3);p.push(p2)}}var p=[];var p2=[];visit(object,p,p2);var result=p.filter((function(p,i,a){return a.length&&a.findIndex((function(o){return JSON.stringify(o)===JSON.stringify(p)}))===i})).sort((function(a,b){return a.length-b.length})).filter((function(a){return a.length>0}));if(options.leafsOnly){return result.filter((function(p){return!result.find((function(p2){return p2!==p&&p2.length>p.length&&JSON.stringify(p)===JSON.stringify(p2.slice(0,p.length))}))}))}else{return result}}exports.getObjectPropertyPaths=getObjectPropertyPaths},{"./type":117}],98:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function serial(p){return new Promise((function(resolve){p.reduce((function(promiseChain,currentTask){return promiseChain.then((function(chainResults){return currentTask().then((function(currentResult){return chainResults.concat([currentResult])}))}))}),Promise.resolve([])).then((function(arrayOfResults){resolve(arrayOfResults)}))}))}exports.serial=serial;var Deferred=function(){function Deferred(callback){var instance=this;this.resolve=null;this.reject=null;this.status="pending";this.promise=new Promise((function(resolve,reject){instance.resolve=function(){this.status="resolved";resolve.apply(this,arguments)};instance.reject=function(){this.status="rejected";reject.apply(this,arguments)}}));if(typeof callback==="function"){callback.call(this,this.resolve,this.reject)}}Deferred.prototype.then=function(resolve){return this.promise.then(resolve)};Deferred.prototype.catch=function(r){return this.promise.catch(r)};return Deferred}();exports.Deferred=Deferred},{}],99:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var array_1=require("../array");var BorderStyle;(function(BorderStyle){BorderStyle["light"]="light";BorderStyle["double"]="double";BorderStyle["round"]="round";BorderStyle["heavy"]="heavy";BorderStyle["lightDouble"]="lightDouble";BorderStyle["doubleLight"]="doubleLight";BorderStyle["classic"]="classic";BorderStyle["lightTripleDash"]="lightTripleDash";BorderStyle["lightQuadrupleDash"]="lightQuadrupleDash";BorderStyle["lightDoubleDash"]="lightDoubleDash";BorderStyle["heavier"]="heavier";BorderStyle["roundDoubleDash"]="roundDoubleDash";BorderStyle["roundTripleDash"]="roundTripleDash";BorderStyle["roundQuadrupleDash"]="roundQuadrupleDash";BorderStyle["heavyDoubleDash"]="heavyDoubleDash";BorderStyle["heavyTripleDash"]="heavyTripleDash";BorderStyle["heavyQuadrupleDash"]="heavyQuadrupleDash";BorderStyle["singleRareCorners"]="singleRareCorners";BorderStyle["triangleCorners"]="triangleCorners"})(BorderStyle=exports.BorderStyle||(exports.BorderStyle={}));exports.borderStyles=array_1.enumKeys(BorderStyle);var BorderSide;(function(BorderSide){BorderSide["topLeft"]="topLeft";BorderSide["topRight"]="topRight";BorderSide["bottomRight"]="bottomRight";BorderSide["bottomLeft"]="bottomLeft";BorderSide["left"]="left";BorderSide["bottom"]="bottom";BorderSide["top"]="top";BorderSide["right"]="right"})(BorderSide=exports.BorderSide||(exports.BorderSide={}));function getBoxChar(s,si){return getBoxStyles()[s][si]}exports.getBoxChar=getBoxChar;var boxStyles;var getBoxStyles=function(){if(!boxStyles){boxStyles={light:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},lightTripleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},lightQuadrupleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},lightDoubleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},double:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},round:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},roundDoubleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},roundTripleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},roundQuadrupleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},heavy:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},heavyDoubleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},heavyTripleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},heavyQuadrupleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},heavier:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},lightDouble:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},singleRareCorners:{bottom:"",top:"",left:"",right:"",topLeft:"",topRight:"",bottomRight:"",bottomLeft:""},triangleCorners:{bottom:"_",top:"",left:"",right:" ",topLeft:"",topRight:"",bottomRight:"",bottomLeft:""},doubleLight:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},classic:{topLeft:"+",topRight:"+",bottomRight:"+",bottomLeft:"+",left:"|",right:"|",bottom:"",top:"-"}}}return boxStyles}},{"../array":81}],100:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function changeText(text,toInsert){var s=text.split("");var indexIncr=0;toInsert.forEach((function(data){data.toAdd=data.toAdd||"";data.toRemove=data.toRemove||"";s.splice.apply(s,[data.pos+indexIncr,data.toRemove.length].concat(data.toAdd.split("")));indexIncr+=data.toAdd.length-data.toRemove.length}));return s.join("")}exports.changeText=changeText},{}],101:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function evaluate(s,defaultValue){if(defaultValue===void 0){defaultValue=undefined}try{return eval("("+s+")")}catch(error){return defaultValue}}exports.evaluate=evaluate;function stringToObject(s,propSep,nameValueSep){if(s===void 0){s=""}if(propSep===void 0){propSep=","}if(nameValueSep===void 0){nameValueSep=":"}var a=s.split(propSep).map((function(s){return s.trim()}));var o={};a.forEach((function(f){var b=f.split(nameValueSep).map((function(a){return a.trim()}));if(b.length!==2){return}o[b[0]]=b[1]}));return o}exports.stringToObject=stringToObject},{}],102:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var array_1=require("../array");function quote(s,q){if(q===void 0){q='"'}return q+s.replace(new RegExp(q,"g"),"\\"+q)+q}exports.quote=quote;function unquote(s){return s.substring(1,s.length-1)}exports.unquote=unquote;function repeat(n,s){return array_1.array(n,s).join("")}exports.repeat=repeat;function indent(i,tabSize){if(i===void 0){i=1}if(tabSize===void 0){tabSize=2}return repeat(i*tabSize," ")}exports.indent=indent;function wordWrap(s,w,newLine){if(newLine===void 0){newLine="\n"}var n=newLine.replace(/\\/,"\\\\");return s.replace(new RegExp("(?![^"+n+"]{1,"+w+"}$)([^"+n+"]{1,"+w+"})\\s","g"),"$1"+newLine)}exports.wordWrap=wordWrap},{"../array":81}],103:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function getPreviousMatchingPos(text,pos,predicate){pos=text.length<=pos?text.length:pos;if(typeof predicate==="string"){var s_1=predicate;predicate=function(c){return c===s_1}}while(pos>=0){var char=text[pos];if(!predicate(char)){pos--}else{break}}return pos}exports.getPreviousMatchingPos=getPreviousMatchingPos;function getPosition(string,subString,n){return string.split(subString,n).join(subString).length}exports.getPosition=getPosition},{}],104:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function hashCode(s){var h=0,l=s.length,i=0;if(l>0){while(i<l){h=(h<<5)-h+s.charCodeAt(i++)|0}}return h}exports.hashCode=hashCode},{}],105:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function escapeHtmlAttribute(code){return code.replace(/\"/gim,"&quot;")}exports.escapeHtmlAttribute=escapeHtmlAttribute;function unEscapeHtmlAttribute(code){return code.replace(/\&quot\;/gim,'"')}exports.unEscapeHtmlAttribute=unEscapeHtmlAttribute;function wrapInHtml(s){return'\n  <!DOCTYPE html>\n<html>\n<head>\n  <meta charset="utf-8" />\n  <meta http-equiv="X-UA-Compatible" content="IE=edge">\n  <title>title</title>\n  <meta name="viewport" content="width=device-width, initial-scale=1">\n</head>\n<body>\n'+s+"\n</body>\n</html>\n"}exports.wrapInHtml=wrapInHtml;function styleObjectToCss(o,propertiesSeparator){if(propertiesSeparator===void 0){propertiesSeparator=""}return Object.keys(o).map((function(p){return stylePropertyNameToCssSyntax(p)+": "+o[p]+";"})).join(propertiesSeparator)}exports.styleObjectToCss=styleObjectToCss;function stylePropertyNameToCssSyntax(s){var t;while(t=/([A-Z])/.exec(s)){s=s.substring(0,t.index)+"-"+t[1].toLowerCase()+s.substring(t.index+1,s.length)}return s}exports.stylePropertyNameToCssSyntax=stylePropertyNameToCssSyntax},{}],106:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./boxes"));__export(require("./change"));__export(require("./evaluate"));__export(require("./format"));__export(require("./getPreviousMatchingPos"));__export(require("./hash"));__export(require("./html"));__export(require("./template"));__export(require("./whiteSpace"))},{"./boxes":99,"./change":100,"./evaluate":101,"./format":102,"./getPreviousMatchingPos":103,"./hash":104,"./html":105,"./template":107,"./whiteSpace":108}],107:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var cache={};function template(str,data){var fn=!/\W/.test(str)?cache[str]=cache[str]||template(str):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};"+"with(obj){p.push('"+str.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return data?fn(data):fn}exports.template=template},{}],108:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function shorter(text,much){if(much===void 0){much=10}return text.trim().substring(0,Math.min(text.length,much))+"..."}exports.shorter=shorter;function removeWhites(s,replaceWith){if(replaceWith===void 0){replaceWith=" "}return s.replace(/\s+/gm,replaceWith).trim()}exports.removeWhites=removeWhites;function removeEmptyLines(c,newLine){if(newLine===void 0){newLine="\n"}return c.split(newLine).filter((function(l){return!!l.trim()})).join(newLine)}exports.removeEmptyLines=removeEmptyLines;function trimRightLines(s,newLine){if(newLine===void 0){newLine="\n"}return s.split(newLine).map((function(l){return l.trimRight()})).join(newLine)}exports.trimRightLines=trimRightLines},{}],109:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var type_1=require("../type");function animate(_a){var duration=_a.duration,draw=_a.draw,timing=_a.timing,lapse=_a.lapse,end=_a.end;return new Promise((function(resolve){if(type_1.isObject(timing)){timing=timing.fn(duration)}var start=Date.now();var progress=0;requestAnimationFrame((function anim(time){var timeFraction=(time-start)/duration;if(timeFraction>1)timeFraction=1;progress=timing(timeFraction,time-start,duration);draw(progress);if(timeFraction<1){requestAnimationFrame(anim,lapse)}else{end&&end();resolve()}}))}))}exports.animate=animate;function requestAnimationFrame(f,lapse){if(lapse===void 0){lapse=0}setTimeout((function(){return f(Date.now())}),lapse)}var easing;(function(easing){function makeEaseOut(timing){return function(timeFraction){return 1-timing(1-timeFraction)}}function bounceFn(timeFraction){for(var a=0,b_1=1,result=void 0;1;a+=b_1,b_1/=2){if(timeFraction>=(7-4*a)/11){return-Math.pow((11-6*a-11*timeFraction)/4,2)+Math.pow(b_1,2)}}}easing.bounceEasyOut=function(){return makeEaseOut(bounceFn)};function quad(timeFraction){return Math.pow(timeFraction,2)}easing.quad=quad;easing.back=function(x){if(x===void 0){x=1.5}return function(timeFraction){return Math.pow(timeFraction,2)*((x+1)*timeFraction-x)}};easing.elastic=function(x){if(x===void 0){x=1.5}return function(timeFraction){return Math.pow(2,10*(timeFraction-1))*Math.cos(20*Math.PI*x/3*timeFraction)}};function makeEaseInOut(timing){return function(timeFraction){if(timeFraction<.5)return timing(2*timeFraction)/2;else return(2-timing(2*(1-timeFraction)))/2}}easing.bounceEaseInOut=function(){return makeEaseInOut(bounceFn)};var c=1;var b=0;easing.easeInQuad=function(){return{fn:function(d){return function(x,t){return c*(t/=d)*t+b}}}};easing.easeOutQuad=function(){return{fn:function(d){return function(x,t){return-c*(t/=d)*(t-2)+b}}}};easing.easeInOutQuad=function(){return{fn:function(d){return function(x,t){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*(--t*(t-2)-1)+b}}}};easing.easeInElastic=function(){return{fn:function(d){return function(x,t){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s_1=p/4}else{s=p/(2*Math.PI)*Math.asin(c/a)}return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b}}}};easing.easeOutBounce=function(){return{fn:function(d){return function(x,t){if((t/=d)<1/2.75){return c*(7.5625*t*t)+b}else if(t<2/2.75){return c*(7.5625*(t-=1.5/2.75)*t+.75)+b}else if(t<2.5/2.75){return c*(7.5625*(t-=2.25/2.75)*t+.9375)+b}else{return c*(7.5625*(t-=2.625/2.75)*t+.984375)+b}}}}};easing.easeInCubic=function(){return{fn:function(d){return function(x,t){return c*(t/=d)*t*t+b}}}};easing.easeOutCubic=function(){return{fn:function(d){return function(x,t){return c*((t=t/d-1)*t*t+1)+b}}}};easing.easeInOutCubic=function(){return{fn:function(d){return function(x,t){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b}}}};easing.easeInQuart=function(){return{fn:function(d){return function(x,t){return c*(t/=d)*t*t*t+b}}}};easing.easeInOutQuart=function(){return{fn:function(d){return function(x,t){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b}}}};easing.easeInQuint=function(){return{fn:function(d){return function(x,t){return c*(t/=d)*t*t*t*t+b}}}};easing.easeOutQuint=function(){return{fn:function(d){return function(x,t){return c*((t=t/d-1)*t*t*t*t+1)+b}}}};easing.easeInExpo=function(){return{fn:function(d){return function(x,t){return t==0?b:c*Math.pow(2,10*(t/d-1))+b}}}};easing.easeInOutQuint=function(){return{fn:function(d){return function(x,t){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b}}}};easing.easeInSine=function(){return{fn:function(d){return function(x,t){return-c*Math.cos(t/d*(Math.PI/2))+c+b}}}};easing.easeInOutElastic=function(){return{fn:function(d){return function(x,t){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s_2=p/4}else{s=p/(2*Math.PI)*Math.asin(c/a)}if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b}}}};easing.easeOutElastic=function(){return{fn:function(d){return function(x,t){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s_3=p/4}else{s=p/(2*Math.PI)*Math.asin(c/a)}return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b}}}};easing.easeInOutExpo=function(){return{fn:function(d){return function(x,t){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b}}}};easing.easeInOutBack=function(){return{fn:function(d){return function(x,t){var s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=1.525)+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+b}}}};easing.easeOutBack=function(){return{fn:function(d){return function(x,t,d){var s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b}}}};easing.easeInBounce=function(){return{fn:function(d){return function(x,t,d){return c-easing.easeOutBounce().fn(d)(x,d-t,0,c,d)+b}}}};easing.easeInOutBounce=function(){return{fn:function(d){return function(x,t,d){if(t<d/2)return easing.easeInBounce().fn(d)(x,t*2,0,c,d)*.5+b;return easing.easeOutBounce().fn(d)(x,t*2-d,0,c,d)*.5+c*.5+b}}}}})(easing=exports.easing||(exports.easing={}))},{"../type":117}],110:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function formatDate(date,format){if(typeof date==="string"){date=new Date(date)}var dd=date.getDay();var mm=date.getMonth()+1;var yyyy=date.getFullYear();if(dd<10){dd="0"+dd}if(mm<10){mm="0"+mm}if(format==="YYYY-MM-DD"){return yyyy+"-"+mm+"-"+dd}else{return mm+"/"+dd+"/"+yyyy}}exports.formatDate=formatDate;function formatDateTime(date,format){if(typeof date==="string"){date=new Date(date)}var hh=(""+date.getHours()).length<2?"0"+date.getHours():""+date.getHours();var mm=(""+date.getMinutes()).length<2?"0"+date.getMinutes():""+date.getMinutes();return formatDate(date,"YYYY-MM-DD")+"T"+hh+":"+mm}exports.formatDateTime=formatDateTime;function timeHash(){return Date.now().toString(36)}},{}],111:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./anim"));__export(require("./format"));__export(require("./printMs"));__export(require("./sleep"));__export(require("./throttle"));__export(require("./waitFor"))},{"./anim":109,"./format":110,"./printMs":112,"./sleep":113,"./throttle":114,"./waitFor":115}],112:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});function printMs(ms,config){if(config===void 0){config={minutes:false,seconds:true,ms:true}}config=__assign({minutes:false,seconds:true,ms:true},config);var seconds=config.seconds&&Math.floor(ms/1e3);var minutes=config.minutes&&seconds&&(config.ms?Math.floor(seconds/60):Math.round(seconds/60));var milliseconds=config.ms&&Math.floor(ms%1e3||ms);return""+(minutes?minutes+" minutes ":"")+(seconds?seconds+" seconds ":"")+(milliseconds?milliseconds+" ms ":"")}exports.printMs=printMs},{}],113:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function sleep(ms){return new Promise((function(resolve){setTimeout((function(){resolve()}),ms)}))}exports.sleep=sleep;exports.wait=sleep;function withTime(label,fn){console.time(label);var r=fn();console.timeEnd(label);return r}exports.withTime=withTime},{}],114:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function throttle(func,wait,options){if(options===void 0){options={}}var context,args,result;var timeout=null;var previous=0;options||(options={});var later=function(){previous=options.leading===false?0:Date.now();timeout=null;result=func.apply(context,args);context=args=null};return function(){var now=Date.now();if(!previous&&options.leading===false)previous=now;var remaining=wait-(now-previous);context=this;args=arguments;if(remaining<=0){clearTimeout(timeout);timeout=null;previous=now;result=func.apply(context,args);context=args=null}else if(!timeout&&options.trailing!==false){timeout=setTimeout(later,remaining)}return result}}exports.throttle=throttle},{}],115:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};Object.defineProperty(exports,"__esModule",{value:true});var _1=require(".");var defaultOptions={interval:200,timeout:3e3};function waitForPredicate(p,options){if(options===void 0){options={interval:200,timeout:3e3}}return __awaiter(this,void 0,void 0,(function(){var o,t,r;return __generator(this,(function(_a){switch(_a.label){case 0:o=typeof options=="string"?__assign({},defaultOptions,{timeoutError:options}):options;t=setTimeout((function(){var msg=o.timeoutError||p.toString().substring(0,Math.min(p.toString().length,100));throw new Error(msg)}),o.timeout||3e3);_a.label=1;case 1:if(!!(r=p()))return[3,3];return[4,_1.sleep(o.interval||200)];case 2:_a.sent();return[3,1];case 3:t&&clearTimeout(t);return[2,r]}}))}))}exports.waitForPredicate=waitForPredicate},{".":111}],116:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function visitChildren(n,v){v(n);(n.childNodes||[]).forEach((function(c){return visitChildren(c,v)}))}exports.visitChildren=visitChildren;function mapChildren(n,v){var o=[];visitChildren(n,(function(c){return o.push(v(c))}));return o}exports.mapChildren=mapChildren;function findChildren(n,p){return(n.childNodes||[]).find(p)}exports.findChildren=findChildren;function filterChildren(n,p){return(n.childNodes||[]).filter((function(c){return p(c)}))}exports.filterChildren=filterChildren;function getChildIndex(node,children){if(children===void 0){children=undefined}var result=-1;node.parentNode&&(children||(node.parentNode?node.parentNode.childNodes||[]:[])).find((function(c,i){if(c===node){result=i;return true}return false}));return result}exports.getChildIndex=getChildIndex;function getNextSibling(node){var index=getChildIndex(node,node.childNodes);return node.parentNode&&index<(node.childNodes||[]).length-1?(node.childNodes||[])[index+1]:undefined}exports.getNextSibling=getNextSibling;function getSiblings(node,getChildrenMode){if(getChildrenMode===void 0){getChildrenMode=false}return node.parentNode?(node.parentNode.childNodes||[]).filter((function(c){return c!==node})):[]}exports.getSiblings=getSiblings;function getPreviousSibling(node){var index=getChildIndex(node,node.childNodes);return index>0&&node.parentNode?(node.childNodes||[])[index-1]:undefined}exports.getPreviousSibling=getPreviousSibling;function visitAncestors(n,v,o){if(o===void 0){o={}}return!n||v(n)||!n.parentNode||visitAncestors(n.parentNode,v,o)}exports.visitAncestors=visitAncestors;function findAncestor(n,p,o){if(o===void 0){o={}}var a;visitAncestors(n,(function(c){if(p(c)){a=c;return true}return false}),o);return a}exports.findAncestor=findAncestor;function findRootElement(n){return!n?undefined:!n.parentNode?n:findAncestor(n.parentNode,(function(p){return!p.parentNode}))}exports.findRootElement=findRootElement;function filterAncestors(n,p,o){if(o===void 0){o={}}var a=[];visitAncestors(n,(function(c){if(p(c)){a.push(c)}return false}));return a}exports.filterAncestors=filterAncestors;function visitDescendants(n,v,o,inRecursion){if(o===void 0){o={}}if(inRecursion===void 0){inRecursion=false}var r=false;if(o.childrenFirst){r=(n.childNodes||[]).some((function(c){return visitDescendants(c,v,o,true)}));if(r){if(!o.breakOnDescendantSignal&&(o.andSelf||inRecursion)){v(n)}return true}else if(o.andSelf||inRecursion){r=v(n)}return false}else{if(o.andSelf||inRecursion){r=v(n)}if(r){if(!o.visitDescendantsOnSelfSignalAnyway){return true}else{return(n.childNodes||[]).some((function(c){return visitDescendants(c,v,o,true)}))||true}}else{return(n.childNodes||[]).some((function(c){return visitDescendants(c,v,o,true)}))}}}exports.visitDescendants=visitDescendants;function filterDescendants(n,p,o){if(o===void 0){o={}}var a=[];visitDescendants(n,(function(c){if(p(c)){a.push(c)}return false}),o);return a}exports.filterDescendants=filterDescendants;function mapDescendants(n,p,o){if(o===void 0){o={}}var a=[];visitDescendants(n,(function(c){a.push(p(c));return false}),o);return a}exports.mapDescendants=mapDescendants;function findDescendant(n,p,o){if(o===void 0){o={}}var a;visitDescendants(n,(function(c){if(p(c)){a=c;return true}return false}),o);return a}exports.findDescendant=findDescendant;function getAncestors(node){var a=node;var result=[];while(a&&(a=a.parentNode)){result.push(a)}return result}exports.getAncestors=getAncestors;function getDistanceToAncestor(node,ancestor){if(node===ancestor||!node||!ancestor){return 0}else{return getDistanceToAncestor(node.parentNode,ancestor)+1}}exports.getDistanceToAncestor=getDistanceToAncestor},{}],117:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var toStr=Object.prototype.toString;function getType(type){return toStr.call(type)}exports.getType=getType;function isObject(obj){return typeof obj==="object"&&getType(obj)==="[object Object]"}exports.isObject=isObject;exports.isArray=Array.isArray||function(obj){return toStr.call(obj)==="[object Array]"};function isString(a){return typeof a==="string"}exports.isString=isString;function isBoolean(obj){return typeof obj==="boolean"||getType(obj)==="[object Boolean]"}exports.isBoolean=isBoolean;function typeOf(input){return{}.toString.call(input).slice(8,-1).toLowerCase()}exports.typeOf=typeOf;function notUndefined(n){return n!==undefined}exports.notUndefined=notUndefined;function notFalsy(n){return!!n}exports.notFalsy=notFalsy},{}],118:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function getFileNameFromUrl(url){var hashIndex=url.indexOf("#");url=hashIndex!==-1?url.substring(0,hashIndex):url;return(url.split("/").pop()||"").replace(/[\?].*$/g,"")}exports.getFileNameFromUrl=getFileNameFromUrl;function getParametersFromUrl(url){var queryString=url.split("?")[1];var obj={};if(!queryString){return obj}queryString=queryString.split("#")[0];var arr=queryString.split("&");for(var i=0;i<arr.length;i++){var a=arr[i].split("=");obj[a[0]]=a[1]||""}return obj}exports.getParametersFromUrl=getParametersFromUrl},{}],119:[function(require,module,exports){"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols;var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map((function(n){return test2[n]}));if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach((function(letter){test3[letter]=letter}));if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(err){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},{}],120:[function(require,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift("..")}}return parts}exports.resolve=function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=normalizeArray(filter(resolvedPath.split("/"),(function(p){return!!p})),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."};exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash=substr(path,-1)==="/";path=normalizeArray(filter(path.split("/"),(function(p){return!!p})),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path};exports.isAbsolute=function(path){return path.charAt(0)==="/"};exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,(function(p,index){if(typeof p!=="string"){throw new TypeError("Arguments to path.join must be strings")}return p})).join("/"))};exports.relative=function(from,to){from=exports.resolve(from).substr(1);to=exports.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")};exports.sep="/";exports.delimiter=":";exports.dirname=function(path){if(typeof path!=="string")path=path+"";if(path.length===0)return".";var code=path.charCodeAt(0);var hasRoot=code===47;var end=-1;var matchedSlash=true;for(var i=path.length-1;i>=1;--i){code=path.charCodeAt(i);if(code===47){if(!matchedSlash){end=i;break}}else{matchedSlash=false}}if(end===-1)return hasRoot?"/":".";if(hasRoot&&end===1){return"/"}return path.slice(0,end)};function basename(path){if(typeof path!=="string")path=path+"";var start=0;var end=-1;var matchedSlash=true;var i;for(i=path.length-1;i>=0;--i){if(path.charCodeAt(i)===47){if(!matchedSlash){start=i+1;break}}else if(end===-1){matchedSlash=false;end=i+1}}if(end===-1)return"";return path.slice(start,end)}exports.basename=function(path,ext){var f=basename(path);if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};exports.extname=function(path){if(typeof path!=="string")path=path+"";var startDot=-1;var startPart=0;var end=-1;var matchedSlash=true;var preDotState=0;for(var i=path.length-1;i>=0;--i){var code=path.charCodeAt(i);if(code===47){if(!matchedSlash){startPart=i+1;break}continue}if(end===-1){matchedSlash=false;end=i+1}if(code===46){if(startDot===-1)startDot=i;else if(preDotState!==1)preDotState=1}else if(startDot!==-1){preDotState=-1}}if(startDot===-1||end===-1||preDotState===0||preDotState===1&&startDot===end-1&&startDot===startPart+1){return""}return path.slice(startDot,end)};function filter(xs,f){if(xs.filter)return xs.filter(f);var res=[];for(var i=0;i<xs.length;i++){if(f(xs[i],i,xs))res.push(xs[i])}return res}var substr="ab".substr(-1)==="b"?function(str,start,len){return str.substr(start,len)}:function(str,start,len){if(start<0)start=str.length+start;return str.substr(start,len)}}).call(this,require("_process"))},{_process:121}],121:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}]},{},[11])(11)}));